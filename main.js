(()=>{"use strict";var t={770:(t,e,n)=>{t.exports=n.p+"5f3801b433383197fc2c.jpg"},159:(t,e,n)=>{t.exports=n.p+"18da9e3a9416f644b0ff.jpg"},803:(t,e,n)=>{t.exports=n.p+"a6dbea16b9910a5a3619.jpg"},733:(t,e,n)=>{t.exports=n.p+"b58e472483c41158a9e2.jpg"},554:(t,e,n)=>{t.exports=n.p+"b942a138fc0a1382f02a.jpg"},225:(t,e,n)=>{t.exports=n.p+"af2f3a649746a3693f44.jpg"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="",n.b=document.baseURI||self.location.href,(()=>{function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(){function n(t,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e(this,"_showError",(function(t,e){var n=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(o._inputErrorClass),n.textContent=e,n.classList.add(o._errorClass)})),e(this,"_hideError",(function(t){var e=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(o._inputErrorClass),e.textContent="",e.classList.remove(o._errorClass)})),this._formElement=r,this._inputList=Array.from(this._formElement.querySelectorAll(t.inputSelector)),this._submitButton=this._formElement.querySelector(t.submitButtonSelector),this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var r,o;return r=n,(o=[{key:"enableValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkValidity(e),t._toggleButtonState()}))}))}},{key:"switchOffButton",value:function(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.switchOffButton():this._switchOnButton()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_switchOnButton",value:function(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}},{key:"_checkValidity",value:function(t){t.validity.valid?this._hideError(t):this._showError(t,t.validationMessage)}},{key:"resetValidation",value:function(){var t=this;this.switchOffButton(),this._inputList.forEach((function(e){t._hideError(e)}))}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){var r=e.data,o=e.handleCardClick,i=e.handleDelclick,u=e.sendLikeToSerever,c=e.delLekeOnServer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=r,this._name=r.name,this._link=r.link,this._count=r.likes.length,this._id=r._id,this._cardSelector=n,this._handleDelclick=i,this._handleCardClick=o,this._sendLikeToSerever=u,this._delLekeOnServer=c}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.children[0].cloneNode(!0)}},{key:"createCard",value:function(){return this._newCard=this._getTemplate(),this._newCard.querySelector(".element__place").textContent=this._name,this._cardImage=this._newCard.querySelector(".element__photo"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeButton=this._newCard.querySelector(".element__like"),this._delButton=this._newCard.querySelector(".element__del-button"),this._likeCounter=this._newCard.querySelector(".element__like-counter"),this._likeCounter.innerHTML=this._count,this._setCardEventListeners(),this._newCard}},{key:"_changeCardLikeCounter",value:function(){this._likeButton.classList.contains("element__like_active")?(this._likeCounter.innerHTML="",this._likeCounter.innerHTML=this._count+1):(this._likeCounter.innerHTML="",this._likeCounter.innerHTML=this._count)}},{key:"_setCardEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._changeCardLike()})),this._delButton.addEventListener("click",(function(){t._handleDelclick(t)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick(t._data)}))}},{key:"_saveLikeCard",value:function(){this._likeButton.classList.add("element__like_active")}},{key:"_changeCardLike",value:function(){var t=this;this._likeButton.classList.contains("element__like_active")?this._delLekeOnServer(this._id).then((function(e){t._likeCounter.innerHTML=e.likes.length})).then((function(){t._likeButton.classList.toggle("element__like_active")})).catch((function(t){console.log(t)})):this._sendLikeToSerever(this._id).then((function(e){t._likeCounter.innerHTML=e.likes.length})).then((function(){t._likeButton.classList.toggle("element__like_active")})).catch((function(t){console.log(t)}))}},{key:"_deleteCard",value:function(){this._newCard.remove(),this._newCard=null}},{key:"makeEnableDel",value:function(){this._delButton.classList.add("element__del-button_enable")}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){var n=e.profileNameSelector,r=e.profileJobSelector,o=e.profileAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return this._profileInfo=new Object,this._profileInfo.name=this._name.textContent,this._profileInfo.link=this._job.textContent,this._profileInfo}},{key:"setUserInfo",value:function(t){var e=t.title,n=t.job;this._name.textContent=e,this._job.textContent=n}},{key:"setUserAvatar",value:function(t){this._avatar.src=t}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("click",(function(e){var n=e.target.classList.contains("popup"),r=e.target.classList.contains("popup__close-button");(n||r)&&t.close()}))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=h(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function _(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupPhoto=e._popup.querySelector(".popup__photo"),e._popupText=e._popup.querySelector(".popup__text"),e}return e=u,(n=[{key:"open",value:function(t){p(d(u.prototype),"open",this).call(this),this._popupText.textContent=t.name,this._popupPhoto.src=t.link,this._popupPhoto.alt=t.link}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=g(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},k.apply(this,arguments)}function g(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function O(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(r);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return O(this,t)});function u(t){var e,n=t.popupSelector,r=t.submitFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popupForm=e._popup.querySelector(".popup__form"),e._submitFunction=r,e._inputList=e._popup.querySelectorAll(".popup__input"),e._submitButton=e._popupForm.querySelector(".popup__submit-button"),e}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;k(S(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._newItem=t._getInputValues(),t._submitFunction(t._newItem),t.close()}))}},{key:"open",value:function(){k(S(u.prototype),"open",this).call(this)}},{key:"close",value:function(){k(S(u.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}}])&&m(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=P(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function P(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function B(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(r);if(o){var n=R(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return B(this,t)});function u(t){var e,n=t.popupSelector,r=t.submitFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popupForm=e._popup.querySelector(".popup__form"),e._submitButton=e._popupForm.querySelector(".popup__submit-button"),e._submitFunction=r,e}return e=u,(n=[{key:"open",value:function(t){var e=this;this._card=t,L(R(u.prototype),"open",this).call(this),setTimeout((function(){return e._submitButton.focus()}),100)}},{key:"close",value:function(){L(R(u.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;L(R(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._submitFunction(t._card),t.close()}))}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}},{key:"tetsFunction",value:function(){console.log("test2")}}])&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),U=document.querySelector(".profile__edit-button"),F=document.querySelector(".popup_type_profile"),D=F.querySelector(".popup__input_type_title"),z=F.querySelector(".popup__input_type_subtitle"),A=document.querySelector(".profile__add-button"),J=(document.querySelector(".profile__title"),document.querySelector(".profile__subtitle"),document.querySelector(".profile__avatar")),V={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input_invalid",errorClass:"error_type_visible"};function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}new URL(n(159),n.b),new URL(n(554),n.b),new URL(n(225),n.b),new URL(n(770),n.b),new URL(n(803),n.b),new URL(n(733),n.b);var M=function(){function t(e){var n=e.baseUrl,r=e.authorization;e.contentType,function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._authorization=r}var e,n;return e=t,(n=[{key:"getHeroData",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:{authorization:this._authorization}}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"getnItialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:{authorization:this._authorization}}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"_getJsonOrError",value:function(t){return t.ok?t.json():Promise.reject({status:t.status})}},{key:"setUserInfoServer",value:function(t,e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:e})}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"setUserAvatarServer",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"sendCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,link:t.link})}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"removeCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._getJsonOrError)}},{key:"sendLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:{authorization:this._authorization}}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"delLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._getJsonOrError)}}])&&H(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(){return $="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=K(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},$.apply(this,arguments)}function K(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function W(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(r);if(o){var n=X(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return W(this,t)});function u(t){var e,n=t.popupSelector,r=t.submitFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popupForm=e._popup.querySelector(".popup__form"),e._submitButton=e._popupForm.querySelector(".popup__submit-button"),e._submitFunction=r,e._input=e._popup.querySelector(".popup__input"),e}return e=u,(n=[{key:"open",value:function(){var t=this;$(X(u.prototype),"open",this).call(this),setTimeout((function(){return t._submitButton.focus()}),100)}},{key:"close",value:function(){$(X(u.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"setEventListeners",value:function(){var t=this;$(X(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._submitFunction(t._input.value),t.close()}))}},{key:"renderLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tt=new M({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-47/",authorization:"83fc8ebe-1f08-4a5e-8995-87cf7a67fcf1",contentType:"application/json"}),et=new E({popupSelector:".popup_type_profile",submitFunction:function(t){et.renderLoading(!0),tt.setUserInfoServer(t.editProfileName,t.editProfileJob).then((function(t){nt.setUserInfo({title:t.name,job:t.about})})).catch((function(t){console.log(t)})).finally((function(){et.renderLoading(!1)}))}});et.setEventListeners();var nt=new c({profileNameSelector:".profile__title",profileJobSelector:".profile__subtitle",profileAvatarSelector:".profile__avatar"});U.addEventListener("click",(function(){et.open();var t=nt.getUserInfo();D.value=t.name,z.value=t.link,at.resetValidation()}));var rt=new E({popupSelector:".popup_type_element",submitFunction:function(t){tt.sendCard(t).then((function(t){var e=ct(t);ft.addItem(e)})).catch((function(t){console.log(t)}))}});rt.setEventListeners("cards"),A.addEventListener("click",(function(){rt.open(),lt.resetValidation()}));var ot=new q({popupSelector:".popup_type_delete",submitFunction:function(t){tt.removeCard(t._id).then((function(){t._deleteCard()})).catch((function(t){console.log(t)}))}});ot.setEventListeners();var it=new Y({popupSelector:".popup_type_edit-picture",submitFunction:function(t){it.renderLoading(!0),console.log(t),tt.setUserAvatarServer(t).then((function(t){console.log(t),nt.setUserAvatar(t.avatar)})).catch((function(t){console.log(t)})).finally((function(){it.renderLoading(!1)}))}});it.setEventListeners(),J.addEventListener("click",(function(){it.open(),st.resetValidation()}));var ut=new b(".popup_type_element-photo");function ct(t){var e=new i({data:t,handleCardClick:function(t){ut.open(t)},handleDelclick:function(t){ot.open(t)},sendLikeToSerever:function(t){return tt.sendLike(t)},delLekeOnServer:function(t){return tt.delLike(t)}},"#user-element"),n=e.createCard();return tt.getHeroData().then((function(n){n._id===t.owner._id&&e.makeEnableDel(),t.likes.length>0&&t.likes.forEach((function(t){t._id===n._id&&e._saveLikeCard()}))})),n}ut.setEventListeners();var at=new r(V,document.querySelector("#formProfile"));at.enableValidation();var lt=new r(V,document.querySelector("#formCard"));lt.enableValidation();var st=new r(V,document.querySelector("#editProfilePicture"));st.enableValidation();var ft=new x({renderer:function(t){var e=ct(t);ft.addItem(e)}},".elements");Promise.all([tt.getnItialCards(),tt.getHeroData()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ft.renderItems(o),nt.setUserInfo({title:i.name,job:i.about}),nt.setUserAvatar(i.avatar)})).catch((function(t){console.log(t)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SyxZQUF3QixJLElBQUEsRyxFQUFBLEUsNENBQUEsSSxneEJBQXRCcUksRUFBc0IsS0FBUnZLLEVBQVEsS0FDN0I0SSxHQUFTNEIsWUFBWUQsR0FDbkJ2QyxHQUFnQkMsWUFBWSxDQUMxQmxGLE1BQU8vQyxFQUFLTyxLQUNaeUMsSUFBS2hELEVBQUttSCxRQUVaYSxHQUFnQnNCLGNBQWN0SixFQUFLcUgsT0FDckMsSUFDQWpGLE9BQU0sU0FBQ0MsR0FDUEMsUUFBUUMsSUFBSUYsRUFDWixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9tZXN0by93ZWJwYWNrL3J1bnRpbWUvanNvbnAgY2h1bmsgbG9hZGluZyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwRGVsQ29uZmlybWF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cEVkaXRQcm9maWxlUGljdHVyZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbl9fd2VicGFja19yZXF1aXJlX18ubSA9IF9fd2VicGFja19tb2R1bGVzX187XG5cbiIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsIl9fd2VicGFja19yZXF1aXJlX18uYiA9IGRvY3VtZW50LmJhc2VVUkkgfHwgc2VsZi5sb2NhdGlvbi5ocmVmO1xuXG4vLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuLy8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4vLyBbcmVzb2x2ZSwgcmVqZWN0LCBQcm9taXNlXSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbnZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG5cdDgwNzogMFxufTtcblxuLy8gbm8gY2h1bmsgb24gZGVtYW5kIGxvYWRpbmdcblxuLy8gbm8gcHJlZmV0Y2hpbmdcblxuLy8gbm8gcHJlbG9hZGVkXG5cbi8vIG5vIEhNUlxuXG4vLyBubyBITVIgbWFuaWZlc3RcblxuLy8gbm8gb24gY2h1bmtzIGxvYWRlZFxuXG4vLyBubyBqc29ucCBmdW5jdGlvbiIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IgKGNvbmZpZywgZm9ybVZhbGlkYXRpb24pIHtcbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1WYWxpZGF0aW9uO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gIH07XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKCh0ZXN0SW5wdXQpID0+IHtcbiAgICAgIHRlc3RJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+ICB7XG4gICAgICAgIHRoaXMuX2NoZWNrVmFsaWRpdHkodGVzdElucHV0KTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pOyBcbiAgfTtcblxuICBzd2l0Y2hPZmZCdXR0b24gKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH07XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xuICAgICAgdGhpcy5zd2l0Y2hPZmZCdXR0b24gKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N3aXRjaE9uQnV0dG9uKCk7XG4gICAgfTtcbiAgfTtcblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiB0aGlzLl9pbnB1dExpc3Quc29tZSgoaW5wdXQpID0+IHtcbiAgICAgIHJldHVybiAhaW5wdXQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7ICBcbiAgfTtcblxuICBfc3dpdGNoT25CdXR0b24oKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH07XG5cbiAgX2NoZWNrVmFsaWRpdHkgKHRlc3RJbnB1dCkge1xuICAgIGlmICghdGVzdElucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93RXJyb3IodGVzdElucHV0LCB0ZXN0SW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlRXJyb3IodGVzdElucHV0KTtcbiAgICB9XG4gIH07XG5cbiAgX3Nob3dFcnJvciA9ICh0ZXN0SW5wdXQsIGVycm9yTWVzc2FnZSkgPT4ge1xuICAgIGNvbnN0IGlucHV0RXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0ZXN0SW5wdXQuaWR9LWVycm9yYCk7XG4gICAgdGVzdElucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBpbnB1dEVycm9yLnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGlucHV0RXJyb3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfTtcblxuXG4gIF9oaWRlRXJyb3IgPSAodGVzdElucHV0KSA9PiB7XG4gICAgY29uc3QgaW5wdXRFcnJvciA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3Rlc3RJbnB1dC5pZH0tZXJyb3JgKTtcbiAgICB0ZXN0SW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGlucHV0RXJyb3IudGV4dENvbnRlbnQgPSAnJztcbiAgICBpbnB1dEVycm9yLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuc3dpdGNoT2ZmQnV0dG9uKCk7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSkgXG4gIH1cbn0iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgZGF0YSwgaGFuZGxlQ2FyZENsaWNrLCBoYW5kbGVEZWxjbGljaywgc2VuZExpa2VUb1NlcmV2ZXIsIGRlbExla2VPblNlcnZlcn0sIHRlbXBsYXRlU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fY291bnQgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlRGVsY2xpY2sgPSBoYW5kbGVEZWxjbGljaztcbiAgICAvLyB0aGlzLl9wb3B1cFBob3RvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90bycpO1xuICAgIC8vIHRoaXMuX3BvcHVwVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dCcpO1xuICAgIC8vIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX3R5cGVfZWxlbWVudC1waG90bycpO1xuICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayA9IGhhbmRsZUNhcmRDbGljaztcbiAgICB0aGlzLl9zZW5kTGlrZVRvU2VyZXZlciA9IHNlbmRMaWtlVG9TZXJldmVyO1xuICAgIHRoaXMuX2RlbExla2VPblNlcnZlciA9IGRlbExla2VPblNlcnZlcjtcbiAgfTtcblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgdXNlclRlbXBsYXRlID0gZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgLmNvbnRlbnRcbiAgICAuY2hpbGRyZW5bMF1cbiAgICAuY2xvbmVOb2RlKHRydWUpO1xuICAgIHJldHVybiB1c2VyVGVtcGxhdGU7XG4gIH07XG5cbiAgY3JlYXRlQ2FyZCgpIHtcbiAgICB0aGlzLl9uZXdDYXJkID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19wbGFjZScpLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UgPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19waG90bycpO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlJyk7XG4gICAgdGhpcy5fZGVsQnV0dG9uID0gdGhpcy5fbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsLWJ1dHRvbicpO1xuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fbmV3Q2FyZC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fbGlrZS1jb3VudGVyJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5fY291bnQ7XG4gICAgdGhpcy5fc2V0Q2FyZEV2ZW50TGlzdGVuZXJzKCk7IFxuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuX2RhdGEpO1xuICAgIHJldHVybiB0aGlzLl9uZXdDYXJkO1xuICB9O1xuXG4gIF9jaGFuZ2VDYXJkTGlrZUNvdW50ZXIoKSB7XG4gICAgaWYgKHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlX2FjdGl2ZScpKXtcbiAgICAgIHRoaXMuX2xpa2VDb3VudGVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgdGhpcy5fbGlrZUNvdW50ZXIuaW5uZXJIVE1MID0gdGhpcy5fY291bnQgKyAxOyAgXG4gICAgICBcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fbGlrZUNvdW50ZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICB0aGlzLl9saWtlQ291bnRlci5pbm5lckhUTUwgPSB0aGlzLl9jb3VudDtcbiAgICAgIFxuICAgIH1cbiAgfVxuXG4gIF9zZXRDYXJkRXZlbnRMaXN0ZW5lcnMoKSB7IFxuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9jaGFuZ2VDYXJkTGlrZSgpO1xuICAgICAgLy8gdGhpcy5fY2hhbmdlQ2FyZExpa2VDb3VudGVyKCk7XG5cbiAgICB9KTtcbiAgICB0aGlzLl9kZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAvLyB0aGlzLl9kZWxldGVDYXJkKCk7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxjbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fZGF0YSk7XG4gICAgfSk7XG4gIH07XG5cbiAgX3NhdmVMaWtlQ2FyZCgpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gIH1cblxuICBfY2hhbmdlQ2FyZExpa2UoKSB7XG4gICAgaWYgKCF0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnZWxlbWVudF9fbGlrZV9hY3RpdmUnKSl7XG4gICAgICB0aGlzLl9zZW5kTGlrZVRvU2VyZXZlcih0aGlzLl9pZClcbiAgICAudGhlbigoZGF0YSk9PntcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIuaW5uZXJIVE1MID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgfSlcbiAgICAudGhlbigoKT0+e1xuICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGVycik7IFxuICAgIH0pOyAgIFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9kZWxMZWtlT25TZXJ2ZXIodGhpcy5faWQpXG4gICAgICAudGhlbigoZGF0YSk9PntcbiAgICAgICAgdGhpcy5fbGlrZUNvdW50ZXIuaW5uZXJIVE1MID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgICB9KVxuICAgICAgLnRoZW4oKCk9PntcbiAgICAgICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50X19saWtlX2FjdGl2ZScpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IFxuICAgICAgfSk7ICAgXG4gICAgfVxuICB9O1xuXG4gIF9kZWxldGVDYXJkKCkge1xuICAgIHRoaXMuX25ld0NhcmQucmVtb3ZlKCk7XG4gICAgdGhpcy5fbmV3Q2FyZCA9IG51bGw7XG4gIH07XG5cbiAgbWFrZUVuYWJsZURlbCgpIHtcbiAgICB0aGlzLl9kZWxCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fZGVsLWJ1dHRvbl9lbmFibGUnKTtcbiAgfVxufTsiLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih7cHJvZmlsZU5hbWVTZWxlY3RvciwgcHJvZmlsZUpvYlNlbGVjdG9yLCBwcm9maWxlQXZhdGFyU2VsZWN0b3J9KSB7XG4gICAgdGhpcy5fbmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZU5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fam9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSm9iU2VsZWN0b3IpO1xuICAgIHRoaXMuX2F2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocHJvZmlsZUF2YXRhclNlbGVjdG9yKTtcbiAgfVxuXG4gIGdldFVzZXJJbmZvKCkge1xuICAgIHRoaXMuX3Byb2ZpbGVJbmZvID0gbmV3IE9iamVjdCgpO1xuICAgIHRoaXMuX3Byb2ZpbGVJbmZvLm5hbWUgPSB0aGlzLl9uYW1lLnRleHRDb250ZW50O1xuICAgIHRoaXMuX3Byb2ZpbGVJbmZvLmxpbmsgPSB0aGlzLl9qb2IudGV4dENvbnRlbnQ7XG4gICAgcmV0dXJuKHRoaXMuX3Byb2ZpbGVJbmZvKTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKHt0aXRsZSwgam9ifSkge1xuICAgIHRoaXMuX25hbWUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgICB0aGlzLl9qb2IudGV4dENvbnRlbnQgPSBqb2I7XG4gIH1cblxuICBzZXRVc2VyQXZhdGFyKGxpbmspIHtcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gbGluaztcbiAgfSAgXG59IiwiZXhwb3J0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5hZGQoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIgKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyBcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW5lZCcpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIgKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyBcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHsgXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSBcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgeyBcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGV2dCA9PiB7XG4gICAgICBjb25zdCBpc092ZXJsYXkgPSBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXAnKTtcbiAgICAgIGNvbnN0IGlzQ2xvc2VCdG4gPSBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygncG9wdXBfX2Nsb3NlLWJ1dHRvbicpO1xuICAgICAgaWYgKGlzT3ZlcmxheSB8fCBpc0Nsb3NlQnRuKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH07XG4gICAgfSlcblxuICB9XG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7IC8vIFxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBQaG90byA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fcGhvdG8nKTtcbiAgICB0aGlzLl9wb3B1cFRleHQgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3RleHQnKTtcbiAgfVxuXG4gIG9wZW4oZGF0YSkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLl9wb3B1cFRleHQudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fcG9wdXBQaG90by5zcmMgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5fcG9wdXBQaG90by5hbHQgPSBkYXRhLmxpbms7ICAgIFxuICB9XG5cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3Rvciwgc3VibWl0RnVuY3Rpb24gfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX3N1Ym1pdEZ1bmN0aW9uID0gc3VibWl0RnVuY3Rpb247XG4gICAgdGhpcy5faW5wdXRMaXN0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idXR0b24nKTtcbiAgfVxuICBcbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cbiAgXG4gIFxuICBzZXRFdmVudExpc3RlbmVycygpIHsgXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT57XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX25ld0l0ZW0gPSB0aGlzLl9nZXRJbnB1dFZhbHVlcygpO1xuICAgICAgdGhpcy5fc3VibWl0RnVuY3Rpb24odGhpcy5fbmV3SXRlbSk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSApXG4gIH1cblxuICBvcGVuKCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfSBcbiAgXG4gIGNsb3NlKCkgeyBcbiAgICBzdXBlci5jbG9zZSgpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5yZXNldCgpO1xuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJztcbiAgICB9XG4gICAgXG4gIH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cERlbENvbmZpcm1hdGlvbiBleHRlbmRzIFBvcHVwe1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEZ1bmN0aW9uIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQtYnV0dG9uJylcbiAgICB0aGlzLl9zdWJtaXRGdW5jdGlvbiA9IHN1Ym1pdEZ1bmN0aW9uO1xuICB9XG4gIFxuXG4gIG9wZW4oY2FyZCkge1xuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMuX3N1Ym1pdEJ1dHRvbi5mb2N1cygpLCAxMDApIFxuICB9IFxuICBcbiAgY2xvc2UoKSB7IFxuICAgIHN1cGVyLmNsb3NlKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHsgXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT57XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEZ1bmN0aW9uKHRoaXMuX2NhcmQpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cblxufSIsImV4cG9ydCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH07XG5cbiAgYWRkSXRlbShpdGVtKSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoaXRlbSk7XG4gIH07XG5cbiAgcmVuZGVySXRlbXMoaW5pdGFpbEFycmF5KSB7XG4gICAgICBpbml0YWlsQXJyYXkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgdGV0c0Z1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCd0ZXN0MicpO1xuICB9XG59IiwiZXhwb3J0IGNvbnN0IHByb2ZpbGVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoJy5wcm9maWxlX19lZGl0LWJ1dHRvbicpXG5leHBvcnQgY29uc3QgcG9wdXBFZGl0UHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgKCcucG9wdXBfdHlwZV9wcm9maWxlJykgXG5leHBvcnQgY29uc3QgcG9wdXBUaXRsZSA9IHBvcHVwRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvciAoJy5wb3B1cF9faW5wdXRfdHlwZV90aXRsZScpXG5leHBvcnQgY29uc3QgcG9wdXBKb2IgPSBwb3B1cEVkaXRQcm9maWxlLnF1ZXJ5U2VsZWN0b3IgKCcucG9wdXBfX2lucHV0X3R5cGVfc3VidGl0bGUnKVxuZXhwb3J0IGNvbnN0IGNhcmRBZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpXG5leHBvcnQgY29uc3QgY2FyZExpc3RTZWxlY3RvciA9ICcuZWxlbWVudHMnO1xuXG5cbmV4cG9ydCBjb25zdCBwcm9maWxlVGl0bGU9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX190aXRsZScpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTdWJ0aXRsZT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3N1YnRpdGxlJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhcj0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpO1xuXG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7IFxuICBmb3JtU2VsZWN0b3I6ICcucG9wdXBfX2Zvcm0nLFxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLnBvcHVwX19zdWJtaXQtYnV0dG9uJyxcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19zdWJtaXQtYnV0dG9uX2luYWN0aXZlJyxcbiAgaW5wdXRFcnJvckNsYXNzOiAncG9wdXBfX2lucHV0X2ludmFsaWQnLCBcbiAgZXJyb3JDbGFzczogJ2Vycm9yX3R5cGVfdmlzaWJsZSdcbn1cblxuY29uc3QgYXJoaXpJbWFnZSA9IG5ldyBVUkwoJy4uL2ltYWdlcy/QkNGA0YXRi9C3LmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBzcGJJbWFnZSA9IG5ldyBVUkwoJy4uL2ltYWdlcy/Qn9C40YLQtdGALmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCB0ZXJza29sSW1hZ2UgPSBuZXcgVVJMKCcuLi9pbWFnZXMv0KLQtdGA0YHQutC+0LsuanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IGJhaWthbEltYWdlID0gbmV3IFVSTCgnLi4vaW1hZ2VzL0JhaWthbC5qcGcnLCBpbXBvcnQubWV0YS51cmwpO1xuY29uc3Qgdmlib3JnSW1hZ2UgPSBuZXcgVVJMKCcuLi9pbWFnZXMv0JLRi9Cx0L7RgNCzLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCBraXJvdnNrSW1hZ2UgPSBuZXcgVVJMKCcuLi9pbWFnZXMv0JrQuNGA0L7QstGB0LouanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcbiAge1xuICAgIG5hbWU6ICfQkNGA0YXRi9C3JyxcbiAgICBsaW5rOiBhcmhpekltYWdlXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0J/QuNGC0LXRgCcsXG4gICAgbGluazogc3BiSW1hZ2VcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQotC10YDRgdC60L7QuycsXG4gICAgbGluazogdGVyc2tvbEltYWdlXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JHQsNC50LrQsNC7JyxcbiAgICBsaW5rOiBiYWlrYWxJbWFnZVxuICB9LFxuICB7XG4gICAgbmFtZTogJ9CS0YvQsdC+0YDQsycsXG4gICAgbGluazogdmlib3JnSW1hZ2VcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQmtC40YDQvtCy0YHQuicsXG4gICAgbGluazoga2lyb3Zza0ltYWdlXG4gIH1cbl07IiwiZXhwb3J0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKHtiYXNlVXJsLCBhdXRob3JpemF0aW9uLCBjb250ZW50VHlwZX0pIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gYmFzZVVybDtcbiAgICB0aGlzLl9hdXRob3JpemF0aW9uID0gYXV0aG9yaXphdGlvbjtcbiAgICAvLyB0aGlzLl9jb250ZW50VHlwZSA9IGNvbnRlbnRUeXBlOyAvLyDQv9C40YHQsNGC0Ywg0LIg0Y/QstC90L7QvCDQstC40LTQtSDQsiDQvNC10YLQvtC00LDRhVxuICB9XG5cbiAgLy8gJ2FwcGxpY2F0aW9uL2pzb24nXG4gIFxuICBnZXRIZXJvRGF0YSgpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uXG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7IFxuICB9XG5cbiAgZ2V0bkl0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvblxuICAgICAgfVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pOyBcbiAgfVxuXG4gIF9nZXRKc29uT3JFcnJvcihyZXMpe1xuICAgIGlmIChyZXMub2spe1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KHtzdGF0dXM6IHJlcy5zdGF0dXN9KVxuICB9XG5cbiAgc2V0VXNlckluZm9TZXJ2ZXIgKHRpdGxlLCBqb2Ipe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogdGl0bGUsXG4gICAgICAgIGFib3V0OiBqb2JcbiAgICAgIH0pXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7IFxuICB9XG5cbiAgc2V0VXNlckF2YXRhclNlcnZlcihhdmF0YXJMaW5rKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXI6IGF2YXRhckxpbmssXG4gICAgICB9KVxuICAgIH0pXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pOyBcbiAgfVxuXG5cbiAgc2VuZENhcmQobmV3Q2FyZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG5hbWU6IG5ld0NhcmQubmFtZSxcbiAgICAgICAgICBsaW5rOiBuZXdDYXJkLmxpbmtcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgfSk7IFxuICB9XG5cblxuICByZW1vdmVDYXJkKGlkKXtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxuICB9XG5cbiAgc2VuZExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTsgXG4gIH1cblxuICBkZWxMaWtlKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fYXV0aG9yaXphdGlvbixcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcbiAgICBcbiAgfVxufVxuXG5cbiAgXG5cblxuXG5cbiAgXG5cblxuXG5cbiIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwRWRpdFByb2ZpbGVQaWN0dXJlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3RvciAoeyBwb3B1cFNlbGVjdG9yLCBzdWJtaXRGdW5jdGlvbiB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0LWJ1dHRvbicpXG4gICAgdGhpcy5fc3VibWl0RnVuY3Rpb24gPSBzdWJtaXRGdW5jdGlvbjtcbiAgICB0aGlzLl9pbnB1dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXQnKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fc3VibWl0QnV0dG9uLmZvY3VzKCksIDEwMCkgXG4gIH0gXG5cbiAgY2xvc2UoKSB7IFxuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHsgXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT57XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEZ1bmN0aW9uKHRoaXMuX2lucHV0LnZhbHVlKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24udGV4dENvbnRlbnQgPSAn0KHQvtGF0YDQsNC90LjRgtGMJztcbiAgICB9IFxuICB9XG5cbn1cblxuXG5cblxuXG5cbiIsImltcG9ydCAnLi9pbmRleC5jc3MnO1xuXG5pbXBvcnQgeyBGb3JtVmFsaWRhdG9yIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzJ1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcydcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcydcbmltcG9ydCB7IFBvcHVwV2l0aEltYWdlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcydcbmltcG9ydCB7IFBvcHVwV2l0aEZvcm0gfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnXG5pbXBvcnQgeyBQb3B1cERlbENvbmZpcm1hdGlvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBEZWxDb25maXJtYXRpb24uanMnXG5pbXBvcnQgeyBTZWN0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJ1xuaW1wb3J0IHsgcG9wdXBFZGl0UHJvZmlsZSwgcHJvZmlsZUVkaXQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXG5pbXBvcnQgeyBwb3B1cFRpdGxlIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xuaW1wb3J0IHsgcG9wdXBKb2IgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXG5pbXBvcnQgeyBjYXJkQWRkQnV0dG9uIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xuaW1wb3J0IHsgY2FyZExpc3RTZWxlY3RvciB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcbmltcG9ydCB7IGluaXRpYWxDYXJkcyB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcbmltcG9ydCB7IHByb2ZpbGVUaXRsZSwgcHJvZmlsZVN1YnRpdGxlLCBwcm9maWxlQXZhdGFyIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xuaW1wb3J0IHsgQXBpIH0gZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnXG5pbXBvcnQgeyBQb3B1cEVkaXRQcm9maWxlUGljdHVyZSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBFZGl0UHJvZmlsZVBpY3R1cmUnXG5cbmNvbnN0IGFwaSA9IFxubmV3IEFwaShcbiAge2Jhc2VVcmw6ICdodHRwczovL21lc3RvLm5vbW9yZXBhcnRpZXMuY28vdjEvY29ob3J0LTQ3LycsXG4gIGF1dGhvcml6YXRpb246ICc4M2ZjOGViZS0xZjA4LTRhNWUtODk5NS04N2NmN2E2N2ZjZjEnLFxuICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nfVxuKVxuXG5jb25zdCBwb3B1cFByb2ZpbGVFZGl0ID0gXG5uZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9wcm9maWxlJyxcbiAgc3VibWl0RnVuY3Rpb246IChuZXdJdGVtKSA9PiB7XG4gICAgcG9wdXBQcm9maWxlRWRpdC5yZW5kZXJMb2FkaW5nKHRydWUpO1xuICAgIGFwaS5zZXRVc2VySW5mb1NlcnZlcihuZXdJdGVtLmVkaXRQcm9maWxlTmFtZSwgbmV3SXRlbS5lZGl0UHJvZmlsZUpvYilcbiAgICAgIC50aGVuKChkYXRhKT0+e1xuICAgICAgICBjdXJyZW50VXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgICAgIHRpdGxlOiBkYXRhLm5hbWUsXG4gICAgICAgICAgam9iOiBkYXRhLmFib3V0XG4gICAgICAgIH0pXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PntcbiAgICAgICAgcG9wdXBQcm9maWxlRWRpdC5yZW5kZXJMb2FkaW5nKGZhbHNlKTtcbiAgICAgIH0pXG4gIH1cbn0pXG5wb3B1cFByb2ZpbGVFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmNvbnN0IGN1cnJlbnRVc2VySW5mbyA9IG5ldyBVc2VySW5mbyAoeyBcbiAgcHJvZmlsZU5hbWVTZWxlY3RvcjogJy5wcm9maWxlX190aXRsZScsXG4gIHByb2ZpbGVKb2JTZWxlY3RvcjogJy5wcm9maWxlX19zdWJ0aXRsZScsXG4gIHByb2ZpbGVBdmF0YXJTZWxlY3RvcjogJy5wcm9maWxlX19hdmF0YXInXG59KVxuXG5wcm9maWxlRWRpdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBQcm9maWxlRWRpdC5vcGVuKCk7XG4gIGNvbnN0IG5ld1VzZXJJbmZvID0gY3VycmVudFVzZXJJbmZvLmdldFVzZXJJbmZvKCk7IFxuICBwb3B1cFRpdGxlLnZhbHVlID0gbmV3VXNlckluZm8ubmFtZTtcbiAgcG9wdXBKb2IudmFsdWUgPSBuZXdVc2VySW5mby5saW5rOyAgXG4gIGZvcm1Qcm9maWxlVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSlcblxuY29uc3QgcG9wdXBBZGRDYXJkID0gXG4gIG5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgICBwb3B1cFNlbGVjdG9yOiAnLnBvcHVwX3R5cGVfZWxlbWVudCcsXG4gICAgc3VibWl0RnVuY3Rpb246IChpdGVtKSA9PiB7XG4gICAgICBhcGkuc2VuZENhcmQoaXRlbSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+e1xuICAgICAgICAgIGNvbnN0IG5ld0l0ZW0gPSBjcmVhdGVOZXdDYXJkKGRhdGEpO1xuICAgICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3SXRlbSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgfSk7IFxuICAgIH19KVxucG9wdXBBZGRDYXJkLnNldEV2ZW50TGlzdGVuZXJzKCdjYXJkcycsICk7XG5cbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIHBvcHVwQWRkQ2FyZC5vcGVuKClcbiAgZm9ybUNhcmRWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7IFxufSk7XG5cbmNvbnN0IGRlbFBvcHVwID0gbmV3IFBvcHVwRGVsQ29uZmlybWF0aW9uICh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9kZWxldGUnLFxuICBzdWJtaXRGdW5jdGlvbjogKGN1cnJlbnRDYXJkKSA9PiB7XG4gICAgYXBpLnJlbW92ZUNhcmQoY3VycmVudENhcmQuX2lkKVxuICAgICAgLnRoZW4oKCk9PntcbiAgICAgICAgY3VycmVudENhcmQuX2RlbGV0ZUNhcmQoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpOyBcbiAgICAgIH0pOyBcbiAgfVxufSlcbmRlbFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKClcblxuY29uc3QgZWRpdFByb2ZpbGVQaWN0dXJlID0gbmV3IFBvcHVwRWRpdFByb2ZpbGVQaWN0dXJlICh7XG4gIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9lZGl0LXBpY3R1cmUnLFxuICBzdWJtaXRGdW5jdGlvbjooY3VycmVudFBpY3R1cmVMaW5rKSA9PiB7XG4gICAgZWRpdFByb2ZpbGVQaWN0dXJlLnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgY29uc29sZS5sb2coY3VycmVudFBpY3R1cmVMaW5rKTtcbiAgICBhcGkuc2V0VXNlckF2YXRhclNlcnZlcihjdXJyZW50UGljdHVyZUxpbmspXG4gICAgICAudGhlbihkYXRhID0+e1xuICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgY3VycmVudFVzZXJJbmZvLnNldFVzZXJBdmF0YXIoZGF0YS5hdmF0YXIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICB9KVxuICAgICAgLmZpbmFsbHkoKCk9PntcbiAgICAgICAgZWRpdFByb2ZpbGVQaWN0dXJlLnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSlcbiAgfVxufSlcbmVkaXRQcm9maWxlUGljdHVyZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG5wcm9maWxlQXZhdGFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT57XG4gIGVkaXRQcm9maWxlUGljdHVyZS5vcGVuKCk7XG4gIGZvcm1QaWN0dXJlRWRpdFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTsgXG59KVxuXG5jb25zdCBpbWFnZVBvcHVwPSBuZXcgUG9wdXBXaXRoSW1hZ2UgKCcucG9wdXBfdHlwZV9lbGVtZW50LXBob3RvJyk7XG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGNyZWF0ZU5ld0NhcmQoaXRlbSkge1xuICBjb25zdCBuZXdDYXJkID0gbmV3IENhcmQgKFxuICAgIHtkYXRhOiBpdGVtLFxuICAgIGhhbmRsZUNhcmRDbGljazogKGRhdGEpID0+IHsgXG4gICAgICBpbWFnZVBvcHVwLm9wZW4oZGF0YSk7fSxcbiAgICBoYW5kbGVEZWxjbGljazogKGNhcmQpID0+IHtcbiAgICAgIGRlbFBvcHVwLm9wZW4oY2FyZCk7fSxcbiAgICBzZW5kTGlrZVRvU2VyZXZlcjogKGNhcmRJZCkgPT4ge1xuICAgICAgcmV0dXJuIGFwaS5zZW5kTGlrZShjYXJkSWQpfSxcbiAgICBkZWxMZWtlT25TZXJ2ZXI6IChjYXJkSWQpID0+IHtcbiAgICAgIHJldHVybiBhcGkuZGVsTGlrZShjYXJkSWQpfSxcbiAgICB9LCBcbiAgICAnI3VzZXItZWxlbWVudCcpO1xuICBcbiAgY29uc3QgbmV3Q2FyZEVsZW1lbnQgPSBuZXdDYXJkLmNyZWF0ZUNhcmQoKTtcbiAgYXBpLmdldEhlcm9EYXRhKClcbiAgICAudGhlbigoZGF0YSkgPT57XG4gICAgICBpZiAoZGF0YS5faWQgPT09IGl0ZW0ub3duZXIuX2lkKSB7XG4gICAgICAgIG5ld0NhcmQubWFrZUVuYWJsZURlbCgpO1xuICAgICAgfTsgXG4gICAgICBpZiAoaXRlbS5saWtlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGl0ZW0ubGlrZXMuZm9yRWFjaChsaWtlID0+IHtcbiAgICAgICAgICBpZiAobGlrZS5faWQgPT09IGRhdGEuX2lkKSB7XG4gICAgICAgICAgICBuZXdDYXJkLl9zYXZlTGlrZUNhcmQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgIH0pXG4gIHJldHVybiBuZXdDYXJkRWxlbWVudDtcbn1cblxuY29uc3QgZm9ybVByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZm9ybVByb2ZpbGUnKTtcbmNvbnN0IGZvcm1Qcm9maWxlVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKGNvbmZpZywgZm9ybVByb2ZpbGUpO1xuZm9ybVByb2ZpbGVWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBmb3JtQ2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtQ2FyZCcpO1xuY29uc3QgZm9ybUNhcmRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAoY29uZmlnLCBmb3JtQ2FyZCk7XG5mb3JtQ2FyZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IHBpY3R1cmVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2VkaXRQcm9maWxlUGljdHVyZScpO1xuY29uc3QgZm9ybVBpY3R1cmVFZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IgKGNvbmZpZywgcGljdHVyZUVkaXQpO1xuZm9ybVBpY3R1cmVFZGl0VmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgY2FyZExpc3QgPSBcbiAgICBuZXcgU2VjdGlvbiAoXG4gICAgICB7cmVuZGVyZXI6IChpdGVtKSA9PntcbiAgICAgICAgY29uc3QgbmV3RWxlbWVudCA9IGNyZWF0ZU5ld0NhcmQoaXRlbSk7XG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3RWxlbWVudCk7fSB9LFxuICAgICAgY2FyZExpc3RTZWxlY3Rvcik7XG5cblByb21pc2UuYWxsKFtcblx0YXBpLmdldG5JdGlhbENhcmRzKCksXG4gIGFwaS5nZXRIZXJvRGF0YSgpLFxuXSlcblx0LnRoZW4oKFtpbml0aWFsQXJyYXksIGRhdGFdKT0+e1xuXHRcdGNhcmRMaXN0LnJlbmRlckl0ZW1zKGluaXRpYWxBcnJheSk7XG4gICAgY3VycmVudFVzZXJJbmZvLnNldFVzZXJJbmZvKHtcbiAgICAgIHRpdGxlOiBkYXRhLm5hbWUsXG4gICAgICBqb2I6IGRhdGEuYWJvdXRcbiAgICB9KVxuICAgIGN1cnJlbnRVc2VySW5mby5zZXRVc2VyQXZhdGFyKGRhdGEuYXZhdGFyKTtcblx0fSlcblx0LmNhdGNoKChlcnIpPT57XG5cdFx0Y29uc29sZS5sb2coZXJyKTtcblx0fSlcbiAgXG4gIFxuXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJtIiwibyIsIm9iaiIsInByb3AiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiYiIsImRvY3VtZW50IiwiYmFzZVVSSSIsInNlbGYiLCJsb2NhdGlvbiIsImhyZWYiLCJGb3JtVmFsaWRhdG9yIiwiY29uZmlnIiwiZm9ybVZhbGlkYXRpb24iLCJ0ZXN0SW5wdXQiLCJlcnJvck1lc3NhZ2UiLCJpbnB1dEVycm9yIiwiX2Zvcm1FbGVtZW50IiwicXVlcnlTZWxlY3RvciIsImlkIiwiY2xhc3NMaXN0IiwiYWRkIiwiX2lucHV0RXJyb3JDbGFzcyIsInRleHRDb250ZW50IiwiX2Vycm9yQ2xhc3MiLCJyZW1vdmUiLCJ0aGlzIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvbiIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJhZGRFdmVudExpc3RlbmVyIiwiX2NoZWNrVmFsaWRpdHkiLCJkaXNhYmxlZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzd2l0Y2hPZmZCdXR0b24iLCJfc3dpdGNoT25CdXR0b24iLCJzb21lIiwiaW5wdXQiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hpZGVFcnJvciIsIl9zaG93RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsImlucHV0RWxlbWVudCIsIkNhcmQiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiZGF0YSIsImhhbmRsZUNhcmRDbGljayIsImhhbmRsZURlbGNsaWNrIiwic2VuZExpa2VUb1NlcmV2ZXIiLCJkZWxMZWtlT25TZXJ2ZXIiLCJfZGF0YSIsIl9uYW1lIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9jb3VudCIsImxpa2VzIiwibGVuZ3RoIiwiX2lkIiwiX2NhcmRTZWxlY3RvciIsIl9oYW5kbGVEZWxjbGljayIsIl9oYW5kbGVDYXJkQ2xpY2siLCJfc2VuZExpa2VUb1NlcmV2ZXIiLCJfZGVsTGVrZU9uU2VydmVyIiwiY29udGVudCIsImNoaWxkcmVuIiwiY2xvbmVOb2RlIiwiX25ld0NhcmQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwic3JjIiwiYWx0IiwiX2xpa2VCdXR0b24iLCJfZGVsQnV0dG9uIiwiX2xpa2VDb3VudGVyIiwiaW5uZXJIVE1MIiwiX3NldENhcmRFdmVudExpc3RlbmVycyIsImNvbnRhaW5zIiwiX2NoYW5nZUNhcmRMaWtlIiwidGhlbiIsInRvZ2dsZSIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImxvZyIsIlVzZXJJbmZvIiwicHJvZmlsZU5hbWVTZWxlY3RvciIsInByb2ZpbGVKb2JTZWxlY3RvciIsInByb2ZpbGVBdmF0YXJTZWxlY3RvciIsIl9qb2IiLCJfYXZhdGFyIiwiX3Byb2ZpbGVJbmZvIiwidGl0bGUiLCJqb2IiLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXAiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImV2dCIsImtleSIsImNsb3NlIiwiaXNPdmVybGF5IiwidGFyZ2V0IiwiaXNDbG9zZUJ0biIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwUGhvdG8iLCJfcG9wdXBUZXh0IiwiUG9wdXBXaXRoRm9ybSIsInN1Ym1pdEZ1bmN0aW9uIiwiX3BvcHVwRm9ybSIsIl9zdWJtaXRGdW5jdGlvbiIsIl9mb3JtVmFsdWVzIiwidmFsdWUiLCJwcmV2ZW50RGVmYXVsdCIsIl9uZXdJdGVtIiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJpc0xvYWRpbmciLCJQb3B1cERlbENvbmZpcm1hdGlvbiIsImNhcmQiLCJfY2FyZCIsInNldFRpbWVvdXQiLCJmb2N1cyIsIlNlY3Rpb24iLCJjb250YWluZXJTZWxlY3RvciIsInJlbmRlcmVyIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsIml0ZW0iLCJwcmVwZW5kIiwiaW5pdGFpbEFycmF5IiwicHJvZmlsZUVkaXQiLCJwb3B1cEVkaXRQcm9maWxlIiwicG9wdXBUaXRsZSIsInBvcHVwSm9iIiwiY2FyZEFkZEJ1dHRvbiIsInByb2ZpbGVBdmF0YXIiLCJmb3JtU2VsZWN0b3IiLCJVUkwiLCJBcGkiLCJiYXNlVXJsIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnRUeXBlIiwiX2Jhc2VVcmwiLCJfYXV0aG9yaXphdGlvbiIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsIl9nZXRKc29uT3JFcnJvciIsIlByb21pc2UiLCJyZWplY3QiLCJyZXMiLCJvayIsImpzb24iLCJzdGF0dXMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiYXZhdGFyTGluayIsImF2YXRhciIsIm5ld0NhcmQiLCJQb3B1cEVkaXRQcm9maWxlUGljdHVyZSIsIl9pbnB1dCIsImFwaSIsInBvcHVwUHJvZmlsZUVkaXQiLCJuZXdJdGVtIiwicmVuZGVyTG9hZGluZyIsInNldFVzZXJJbmZvU2VydmVyIiwiZWRpdFByb2ZpbGVOYW1lIiwiZWRpdFByb2ZpbGVKb2IiLCJjdXJyZW50VXNlckluZm8iLCJzZXRVc2VySW5mbyIsImZpbmFsbHkiLCJzZXRFdmVudExpc3RlbmVycyIsIm9wZW4iLCJuZXdVc2VySW5mbyIsImdldFVzZXJJbmZvIiwiZm9ybVByb2ZpbGVWYWxpZGF0b3IiLCJyZXNldFZhbGlkYXRpb24iLCJwb3B1cEFkZENhcmQiLCJzZW5kQ2FyZCIsImNyZWF0ZU5ld0NhcmQiLCJjYXJkTGlzdCIsImFkZEl0ZW0iLCJmb3JtQ2FyZFZhbGlkYXRvciIsImRlbFBvcHVwIiwiY3VycmVudENhcmQiLCJyZW1vdmVDYXJkIiwiX2RlbGV0ZUNhcmQiLCJlZGl0UHJvZmlsZVBpY3R1cmUiLCJjdXJyZW50UGljdHVyZUxpbmsiLCJzZXRVc2VyQXZhdGFyU2VydmVyIiwic2V0VXNlckF2YXRhciIsImZvcm1QaWN0dXJlRWRpdFZhbGlkYXRvciIsImltYWdlUG9wdXAiLCJjYXJkSWQiLCJzZW5kTGlrZSIsImRlbExpa2UiLCJuZXdDYXJkRWxlbWVudCIsImNyZWF0ZUNhcmQiLCJnZXRIZXJvRGF0YSIsIm93bmVyIiwibWFrZUVuYWJsZURlbCIsImxpa2UiLCJfc2F2ZUxpa2VDYXJkIiwiZW5hYmxlVmFsaWRhdGlvbiIsIm5ld0VsZW1lbnQiLCJhbGwiLCJnZXRuSXRpYWxDYXJkcyIsImluaXRpYWxBcnJheSIsInJlbmRlckl0ZW1zIl0sInNvdXJjZVJvb3QiOiIifQ==