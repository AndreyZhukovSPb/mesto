(()=>{"use strict";var t={770:(t,e,n)=>{t.exports=n.p+"5f3801b433383197fc2c.jpg"},159:(t,e,n)=>{t.exports=n.p+"18da9e3a9416f644b0ff.jpg"},803:(t,e,n)=>{t.exports=n.p+"a6dbea16b9910a5a3619.jpg"},733:(t,e,n)=>{t.exports=n.p+"b58e472483c41158a9e2.jpg"},554:(t,e,n)=>{t.exports=n.p+"b942a138fc0a1382f02a.jpg"},225:(t,e,n)=>{t.exports=n.p+"af2f3a649746a3693f44.jpg"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.p="",n.b=document.baseURI||self.location.href,(()=>{function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var r=function(){function n(t,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),e(this,"_showError",(function(t,e){var n=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.add(o._inputErrorClass),n.textContent=e,n.classList.add(o._errorClass)})),e(this,"_hideError",(function(t){var e=o._formElement.querySelector(".".concat(t.id,"-error"));t.classList.remove(o._inputErrorClass),e.textContent="",e.classList.remove(o._errorClass)})),this._formElement=r,this._inputList=Array.from(this._formElement.querySelectorAll(t.inputSelector)),this._submitButton=this._formElement.querySelector(t.submitButtonSelector),this._inactiveButtonClass=t.inactiveButtonClass,this._inputErrorClass=t.inputErrorClass,this._errorClass=t.errorClass}var r,o;return r=n,(o=[{key:"enableValidation",value:function(){var t=this;this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkValidity(e),t._toggleButtonState()}))}))}},{key:"switchOffButton",value:function(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?this.switchOffButton():this._switchOnButton()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_switchOnButton",value:function(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}},{key:"_checkValidity",value:function(t){t.validity.valid?this._hideError(t):this._showError(t,t.validationMessage)}},{key:"resetValidation",value:function(){var t=this;this.switchOffButton(),this._inputList.forEach((function(e){t._hideError(e)}))}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){var r=e.data,o=e.handleCardClick,i=e.handleDelclick,u=e.sendLikeToSerever,c=e.delLekeOnServer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=r,this._name=r.name,this._link=r.link,this._count=r.likes.length,this._id=r._id,this._cardSelector=n,this._handleDelclick=i,this._handleCardClick=o,this._sendLikeToSerever=u,this._delLekeOnServer=c}var e,n;return e=t,(n=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.children[0].cloneNode(!0)}},{key:"createCard",value:function(){return this._newCard=this._getTemplate(),this._newCard.querySelector(".element__place").textContent=this._name,this._cardImage=this._newCard.querySelector(".element__photo"),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._likeButton=this._newCard.querySelector(".element__like"),this._delButton=this._newCard.querySelector(".element__del-button"),this._likeCounter=this._newCard.querySelector(".element__like-counter"),this._likeCounter.innerHTML=this._count,this._setCardEventListeners(),this._newCard}},{key:"_changeCardLikeCounter",value:function(){this._likeButton.classList.contains("element__like_active")?(this._likeCounter.innerHTML="",this._likeCounter.innerHTML=this._count+1):(this._likeCounter.innerHTML="",this._likeCounter.innerHTML=this._count)}},{key:"_setCardEventListeners",value:function(){var t=this;this._likeButton.addEventListener("click",(function(){t._changeCardLike()})),this._delButton.addEventListener("click",(function(){t._handleDelclick(t)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick(t._data)}))}},{key:"_saveLikeCard",value:function(){this._likeButton.classList.add("element__like_active")}},{key:"_changeCardLike",value:function(){var t=this;this._likeButton.classList.contains("element__like_active")?this._delLekeOnServer(this._id).then((function(e){t._likeCounter.innerHTML=e.likes.length})).then((function(){t._likeButton.classList.toggle("element__like_active")})).catch((function(t){console.log(t)})):this._sendLikeToSerever(this._id).then((function(e){t._likeCounter.innerHTML=e.likes.length})).then((function(){t._likeButton.classList.toggle("element__like_active")})).catch((function(t){console.log(t)}))}},{key:"_deleteCard",value:function(){this._newCard.remove(),this._newCard=null}},{key:"makeEnableDel",value:function(){this._delButton.classList.add("element__del-button_enable")}}])&&o(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){var n=e.profileNameSelector,r=e.profileJobSelector,o=e.profileAvatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=document.querySelector(n),this._job=document.querySelector(r),this._avatar=document.querySelector(o)}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return this._profileInfo=new Object,this._profileInfo.name=this._name.textContent,this._profileInfo.link=this._job.textContent,this._profileInfo}},{key:"setUserInfo",value:function(t){var e=t.title,n=t.job;this._name.textContent=e,this._job.textContent=n}},{key:"setUserAvatar",value:function(t){this._avatar.src=t}}])&&u(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._popup=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popup.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(t){"Escape"===t.key&&this.close()}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("click",(function(e){var n=e.target.classList.contains("popup"),r=e.target.classList.contains("popup__close-button");(n||r)&&t.close()}))}}])&&a(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(){return p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=h(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},p.apply(this,arguments)}function h(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}function _(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(r);if(o){var n=d(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return _(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,t))._popupPhoto=e._popup.querySelector(".popup__photo"),e._popupText=e._popup.querySelector(".popup__text"),e}return e=u,(n=[{key:"open",value:function(t){p(d(u.prototype),"open",this).call(this),this._popupText.textContent=t.name,this._popupPhoto.src=t.link,this._popupPhoto.alt=t.link}}])&&f(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function v(t){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=g(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},k.apply(this,arguments)}function g(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=S(t)););return t}function w(t,e){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},w(t,e)}function O(t,e){if(e&&("object"===v(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=S(r);if(o){var n=S(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return O(this,t)});function u(t){var e,n=t.popupSelector,r=t.submitFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popupForm=e._popup.querySelector(".popup__form"),e._submitFunction=r,e._inputList=e._popup.querySelectorAll(".popup__input"),e._submitButton=e._popupForm.querySelector(".popup__submit-button"),e}return e=u,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"setEventListeners",value:function(){var t=this;k(S(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._newItem=t._getInputValues(),t._submitFunction(t._newItem),t.close()}))}},{key:"open",value:function(){k(S(u.prototype),"open",this).call(this)}},{key:"close",value:function(){k(S(u.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}}])&&m(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function j(t){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function L(){return L="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=P(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},L.apply(this,arguments)}function P(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=R(t)););return t}function T(t,e){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},T(t,e)}function B(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(r);if(o){var n=R(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return B(this,t)});function u(t){var e,n=t.popupSelector,r=t.submitFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popupForm=e._popup.querySelector(".popup__form"),e._submitButton=e._popupForm.querySelector(".popup__submit-button"),e._submitFunction=r,e}return e=u,(n=[{key:"open",value:function(t){var e=this;this._card=t,L(R(u.prototype),"open",this).call(this),setTimeout((function(){return e._submitButton.focus()}),100)}},{key:"close",value:function(){L(R(u.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){var t=this;L(R(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._submitFunction(t._card),t.close()}))}}])&&C(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var x=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}}])&&I(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),U=document.querySelector(".profile__edit-button"),F=document.querySelector(".popup_type_profile"),D=F.querySelector(".popup__input_type_title"),z=F.querySelector(".popup__input_type_subtitle"),A=document.querySelector(".profile__add-button"),J=(document.querySelector(".profile__title"),document.querySelector(".profile__subtitle"),document.querySelector(".profile__avatar")),V={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__submit-button",inactiveButtonClass:"popup__submit-button_inactive",inputErrorClass:"popup__input_invalid",errorClass:"error_type_visible"};function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}new URL(n(159),n.b),new URL(n(554),n.b),new URL(n(225),n.b),new URL(n(770),n.b),new URL(n(803),n.b),new URL(n(733),n.b);var M=function(){function t(e){var n=e.baseUrl,r=e.authorization;e.contentType,function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._baseUrl=n,this._authorization=r}var e,n;return e=t,(n=[{key:"getHeroData",value:function(){return fetch("".concat(this._baseUrl,"/users/me"),{method:"GET",headers:{authorization:this._authorization}}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"getnItialCards",value:function(){return fetch("".concat(this._baseUrl,"/cards"),{method:"GET",headers:{authorization:this._authorization}}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"_getJsonOrError",value:function(t){return t.ok?t.json():Promise.reject({status:t.status})}},{key:"setUserInfoServer",value:function(t,e){return fetch("".concat(this._baseUrl,"/users/me"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:e})}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"setUserAvatarServer",value:function(t){return fetch("".concat(this._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"sendCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards"),{method:"POST",headers:{authorization:this._authorization,"Content-Type":"application/json"},body:JSON.stringify({name:t.name,link:t.link})}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"removeCard",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._getJsonOrError)}},{key:"sendLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"PUT",headers:{authorization:this._authorization}}).then(this._getJsonOrError).catch((function(t){return Promise.reject(t)}))}},{key:"delLike",value:function(t){return fetch("".concat(this._baseUrl,"/cards/").concat(t,"/likes"),{method:"DELETE",headers:{authorization:this._authorization}}).then(this._getJsonOrError)}}])&&H(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function G(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $(){return $="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=K(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},$.apply(this,arguments)}function K(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=X(t)););return t}function Q(t,e){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Q(t,e)}function W(t,e){if(e&&("object"===N(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}var Y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Q(t,e)}(u,t);var e,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=X(r);if(o){var n=X(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return W(this,t)});function u(t){var e,n=t.popupSelector,r=t.submitFunction;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,n))._popupForm=e._popup.querySelector(".popup__form"),e._submitButton=e._popupForm.querySelector(".popup__submit-button"),e._submitFunction=r,e._input=e._popup.querySelector(".popup__input"),e}return e=u,(n=[{key:"open",value:function(){var t=this;$(X(u.prototype),"open",this).call(this),setTimeout((function(){return t._submitButton.focus()}),100)}},{key:"close",value:function(){$(X(u.prototype),"close",this).call(this),this._popupForm.reset()}},{key:"setEventListeners",value:function(){var t=this;$(X(u.prototype),"setEventListeners",this).call(this),this._popupForm.addEventListener("submit",(function(e){e.preventDefault(),t._submitFunction(t._input.value),t.close()}))}},{key:"renderLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}}])&&G(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),u}(l);function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tt=new M({baseUrl:"https://mesto.nomoreparties.co/v1/cohort-47/",authorization:"83fc8ebe-1f08-4a5e-8995-87cf7a67fcf1",contentType:"application/json"}),et=new E({popupSelector:".popup_type_profile",submitFunction:function(t){et.renderLoading(!0),tt.setUserInfoServer(t.editProfileName,t.editProfileJob).then((function(t){nt.setUserInfo({title:t.name,job:t.about})})).catch((function(t){console.log(t)})).finally((function(){et.renderLoading(!1)}))}});et.setEventListeners();var nt=new c({profileNameSelector:".profile__title",profileJobSelector:".profile__subtitle",profileAvatarSelector:".profile__avatar"});U.addEventListener("click",(function(){et.open();var t=nt.getUserInfo();D.value=t.name,z.value=t.link,at.resetValidation()}));var rt=new E({popupSelector:".popup_type_element",submitFunction:function(t){tt.sendCard(t).then((function(t){var e=ct(t);ft.addItem(e)})).catch((function(t){console.log(t)}))}});rt.setEventListeners("cards"),A.addEventListener("click",(function(){rt.open(),lt.resetValidation()}));var ot=new q({popupSelector:".popup_type_delete",submitFunction:function(t){tt.removeCard(t._id).then((function(){t._deleteCard()})).catch((function(t){console.log(t)}))}});ot.setEventListeners();var it=new Y({popupSelector:".popup_type_edit-picture",submitFunction:function(t){it.renderLoading(!0),console.log(t),tt.setUserAvatarServer(t).then((function(t){console.log(t),nt.setUserAvatar(t.avatar)})).catch((function(t){console.log(t)})).finally((function(){it.renderLoading(!1)}))}});it.setEventListeners(),J.addEventListener("click",(function(){it.open(),st.resetValidation()}));var ut=new b(".popup_type_element-photo");function ct(t){var e=new i({data:t,handleCardClick:function(t){ut.open(t)},handleDelclick:function(t){ot.open(t)},sendLikeToSerever:function(t){return tt.sendLike(t)},delLekeOnServer:function(t){return tt.delLike(t)}},"#user-element"),n=e.createCard();return tt.getHeroData().then((function(n){n._id===t.owner._id&&e.makeEnableDel(),t.likes.length>0&&t.likes.forEach((function(t){t._id===n._id&&e._saveLikeCard()}))})),n}ut.setEventListeners();var at=new r(V,document.querySelector("#formProfile"));at.enableValidation();var lt=new r(V,document.querySelector("#formCard"));lt.enableValidation();var st=new r(V,document.querySelector("#editProfilePicture"));st.enableValidation();var ft=new x({renderer:function(t){var e=ct(t);ft.addItem(e)}},".elements");Promise.all([tt.getnItialCards(),tt.getHeroData()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],u=!0,c=!1;try{for(n=n.call(t);!(u=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{u||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return Z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];ft.renderItems(o),nt.setUserInfo({title:i.name,job:i.about}),nt.setUserAvatar(i.avatar)})).catch((function(t){console.log(t)}))})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QnFJLEVBQXNCLEtBQVJ2SyxFQUFRLEtBQzdCNEksR0FBUzRCLFlBQVlELEdBQ25CdkMsR0FBZ0JDLFlBQVksQ0FDMUJsRixNQUFPL0MsRUFBS08sS0FDWnlDLElBQUtoRCxFQUFLbUgsUUFFWmEsR0FBZ0JzQixjQUFjdEosRUFBS3FILE9BQ3JDLElBQ0FqRixPQUFNLFNBQUNDLEdBQ1BDLFFBQVFDLElBQUlGLEVBQ1osRyIsInNvdXJjZXMiOlsid2VicGFjazovL21lc3RvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lc3RvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbWVzdG8vd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cERlbENvbmZpcm1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBFZGl0UHJvZmlsZVBpY3R1cmUuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvcGFnZXMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbi8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBfX3dlYnBhY2tfbW9kdWxlc19fO1xuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4MDc6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbi8vIG5vIG9uIGNodW5rcyBsb2FkZWRcblxuLy8gbm8ganNvbnAgZnVuY3Rpb24iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yIChjb25maWcsIGZvcm1WYWxpZGF0aW9uKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtVmFsaWRhdGlvbjtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICB9O1xuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgodGVzdElucHV0KSA9PiB7XG4gICAgICB0ZXN0SW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiAge1xuICAgICAgICB0aGlzLl9jaGVja1ZhbGlkaXR5KHRlc3RJbnB1dCk7XG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgXG4gIH07XG5cbiAgc3dpdGNoT2ZmQnV0dG9uICgpIHtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICB9O1xuXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcbiAgICAgIHRoaXMuc3dpdGNoT2ZmQnV0dG9uICgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9zd2l0Y2hPbkJ1dHRvbigpO1xuICAgIH07XG4gIH07XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0KSA9PiB7XG4gICAgICByZXR1cm4gIWlucHV0LnZhbGlkaXR5LnZhbGlkO1xuICAgIH0pOyAgXG4gIH07XG5cbiAgX3N3aXRjaE9uQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9O1xuXG4gIF9jaGVja1ZhbGlkaXR5ICh0ZXN0SW5wdXQpIHtcbiAgICBpZiAoIXRlc3RJbnB1dC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0Vycm9yKHRlc3RJbnB1dCwgdGVzdElucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUVycm9yKHRlc3RJbnB1dCk7XG4gICAgfVxuICB9O1xuXG4gIF9zaG93RXJyb3IgPSAodGVzdElucHV0LCBlcnJvck1lc3NhZ2UpID0+IHtcbiAgICBjb25zdCBpbnB1dEVycm9yID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGVzdElucHV0LmlkfS1lcnJvcmApO1xuICAgIHRlc3RJbnB1dC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgaW5wdXRFcnJvci50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgICBpbnB1dEVycm9yLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH07XG5cblxuICBfaGlkZUVycm9yID0gKHRlc3RJbnB1dCkgPT4ge1xuICAgIGNvbnN0IGlucHV0RXJyb3IgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0ZXN0SW5wdXQuaWR9LWVycm9yYCk7XG4gICAgdGVzdElucHV0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBpbnB1dEVycm9yLnRleHRDb250ZW50ID0gJyc7XG4gICAgaW5wdXRFcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9O1xuXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLnN3aXRjaE9mZkJ1dHRvbigpO1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0pIFxuICB9XG59IiwiZXhwb3J0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7IGRhdGEsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlRGVsY2xpY2ssIHNlbmRMaWtlVG9TZXJldmVyLCBkZWxMZWtlT25TZXJ2ZXJ9LCB0ZW1wbGF0ZVNlbGVjdG9yKSB7XG4gICAgdGhpcy5fZGF0YSA9IGRhdGE7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2NvdW50ID0gZGF0YS5saWtlcy5sZW5ndGg7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xuICAgIHRoaXMuX2hhbmRsZURlbGNsaWNrID0gaGFuZGxlRGVsY2xpY2s7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICAgIHRoaXMuX3NlbmRMaWtlVG9TZXJldmVyID0gc2VuZExpa2VUb1NlcmV2ZXI7XG4gICAgdGhpcy5fZGVsTGVrZU9uU2VydmVyID0gZGVsTGVrZU9uU2VydmVyO1xuICB9O1xuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCB1c2VyVGVtcGxhdGUgPSBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAuY29udGVudFxuICAgIC5jaGlsZHJlblswXVxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgcmV0dXJuIHVzZXJUZW1wbGF0ZTtcbiAgfTtcblxuICBjcmVhdGVDYXJkKCkge1xuICAgIHRoaXMuX25ld0NhcmQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3BsYWNlJykudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX3Bob3RvJyk7XG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX25ld0NhcmQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UnKTtcbiAgICB0aGlzLl9kZWxCdXR0b24gPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19kZWwtYnV0dG9uJyk7XG4gICAgdGhpcy5fbGlrZUNvdW50ZXIgPSB0aGlzLl9uZXdDYXJkLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWNvdW50ZXInKTtcbiAgICB0aGlzLl9saWtlQ291bnRlci5pbm5lckhUTUwgPSB0aGlzLl9jb3VudDtcbiAgICB0aGlzLl9zZXRDYXJkRXZlbnRMaXN0ZW5lcnMoKTsgXG4gICAgLy8gY29uc29sZS5sb2codGhpcy5fZGF0YSk7XG4gICAgcmV0dXJuIHRoaXMuX25ld0NhcmQ7XG4gIH07XG5cbiAgX2NoYW5nZUNhcmRMaWtlQ291bnRlcigpIHtcbiAgICBpZiAodGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJykpe1xuICAgICAgdGhpcy5fbGlrZUNvdW50ZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICB0aGlzLl9saWtlQ291bnRlci5pbm5lckhUTUwgPSB0aGlzLl9jb3VudCArIDE7ICBcbiAgICAgIFxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQ291bnRlci5pbm5lckhUTUwgPSAnJztcbiAgICAgIHRoaXMuX2xpa2VDb3VudGVyLmlubmVySFRNTCA9IHRoaXMuX2NvdW50O1xuICAgICAgXG4gICAgfVxuICB9XG5cbiAgX3NldENhcmRFdmVudExpc3RlbmVycygpIHsgXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2NoYW5nZUNhcmRMaWtlKCk7XG4gICAgICAvLyB0aGlzLl9jaGFuZ2VDYXJkTGlrZUNvdW50ZXIoKTtcblxuICAgIH0pO1xuICAgIHRoaXMuX2RlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIC8vIHRoaXMuX2RlbGV0ZUNhcmQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUNhcmRDbGljayh0aGlzLl9kYXRhKTtcbiAgICB9KTtcbiAgfTtcblxuICBfc2F2ZUxpa2VDYXJkKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZWxlbWVudF9fbGlrZV9hY3RpdmUnKTtcbiAgfVxuXG4gIF9jaGFuZ2VDYXJkTGlrZSgpIHtcbiAgICBpZiAoIXRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbGVtZW50X19saWtlX2FjdGl2ZScpKXtcbiAgICAgIHRoaXMuX3NlbmRMaWtlVG9TZXJldmVyKHRoaXMuX2lkKVxuICAgIC50aGVuKChkYXRhKT0+e1xuICAgICAgICB0aGlzLl9saWtlQ291bnRlci5pbm5lckhUTUwgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICB9KVxuICAgIC50aGVuKCgpPT57XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5sb2coZXJyKTsgXG4gICAgfSk7ICAgXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2RlbExla2VPblNlcnZlcih0aGlzLl9pZClcbiAgICAgIC50aGVuKChkYXRhKT0+e1xuICAgICAgICB0aGlzLl9saWtlQ291bnRlci5pbm5lckhUTUwgPSBkYXRhLmxpa2VzLmxlbmd0aDtcbiAgICAgIH0pXG4gICAgICAudGhlbigoKT0+e1xuICAgICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRfX2xpa2VfYWN0aXZlJyk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTsgXG4gICAgICB9KTsgICBcbiAgICB9XG4gIH07XG5cbiAgX2RlbGV0ZUNhcmQoKSB7XG4gICAgdGhpcy5fbmV3Q2FyZC5yZW1vdmUoKTtcbiAgICB0aGlzLl9uZXdDYXJkID0gbnVsbDtcbiAgfTtcblxuICBtYWtlRW5hYmxlRGVsKCkge1xuICAgIHRoaXMuX2RlbEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdlbGVtZW50X19kZWwtYnV0dG9uX2VuYWJsZScpO1xuICB9XG59OyIsImV4cG9ydCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHtwcm9maWxlTmFtZVNlbGVjdG9yLCBwcm9maWxlSm9iU2VsZWN0b3IsIHByb2ZpbGVBdmF0YXJTZWxlY3Rvcn0pIHtcbiAgICB0aGlzLl9uYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcbiAgICB0aGlzLl9qb2IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVKb2JTZWxlY3Rvcik7XG4gICAgdGhpcy5fYXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlQXZhdGFyU2VsZWN0b3IpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgdGhpcy5fcHJvZmlsZUluZm8gPSBuZXcgT2JqZWN0KCk7XG4gICAgdGhpcy5fcHJvZmlsZUluZm8ubmFtZSA9IHRoaXMuX25hbWUudGV4dENvbnRlbnQ7XG4gICAgdGhpcy5fcHJvZmlsZUluZm8ubGluayA9IHRoaXMuX2pvYi50ZXh0Q29udGVudDtcbiAgICByZXR1cm4odGhpcy5fcHJvZmlsZUluZm8pO1xuICB9XG5cbiAgc2V0VXNlckluZm8oe3RpdGxlLCBqb2J9KSB7XG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgIHRoaXMuX2pvYi50ZXh0Q29udGVudCA9IGpvYjtcbiAgfVxuXG4gIHNldFVzZXJBdmF0YXIobGluaykge1xuICAgIHRoaXMuX2F2YXRhci5zcmMgPSBsaW5rO1xuICB9ICBcbn0iLCJleHBvcnQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7IFxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgncG9wdXBfb3BlbmVkJyk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciAoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7IFxuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2dCkgeyBcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IFxuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7IFxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXZ0ID0+IHtcbiAgICAgIGNvbnN0IGlzT3ZlcmxheSA9IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpO1xuICAgICAgY29uc3QgaXNDbG9zZUJ0biA9IGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJyk7XG4gICAgICBpZiAoaXNPdmVybGF5IHx8IGlzQ2xvc2VCdG4pIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfTtcbiAgICB9KVxuXG4gIH1cbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHsgLy8gXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cFBob3RvID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19waG90bycpO1xuICAgIHRoaXMuX3BvcHVwVGV4dCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdGV4dCcpO1xuICB9XG5cbiAgb3BlbihkYXRhKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHRoaXMuX3BvcHVwVGV4dC50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9wb3B1cFBob3RvLnNyYyA9IGRhdGEubGluaztcbiAgICB0aGlzLl9wb3B1cFBob3RvLmFsdCA9IGRhdGEubGluazsgICAgXG4gIH1cblxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yLCBzdWJtaXRGdW5jdGlvbiB9KSB7XG4gICAgc3VwZXIocG9wdXBTZWxlY3Rvcik7XG4gICAgdGhpcy5fcG9wdXBGb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XG4gICAgdGhpcy5fc3VibWl0RnVuY3Rpb24gPSBzdWJtaXRGdW5jdGlvbjtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfX2lucHV0Jyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fc3VibWl0LWJ1dHRvbicpO1xuICB9XG4gIFxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcbiAgfVxuICBcbiAgXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgeyBcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PntcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fbmV3SXRlbSA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgICB0aGlzLl9zdWJtaXRGdW5jdGlvbih0aGlzLl9uZXdJdGVtKTtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9IClcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICB9IFxuICBcbiAgY2xvc2UoKSB7IFxuICAgIHN1cGVyLmNsb3NlKCk7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH1cbiAgICBcbiAgfVxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGNsYXNzIFBvcHVwRGVsQ29uZmlybWF0aW9uIGV4dGVuZHMgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3Rvciwgc3VibWl0RnVuY3Rpb24gfSkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fZm9ybScpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX3N1Ym1pdC1idXR0b24nKVxuICAgIHRoaXMuX3N1Ym1pdEZ1bmN0aW9uID0gc3VibWl0RnVuY3Rpb247XG4gIH1cbiAgXG5cbiAgb3BlbihjYXJkKSB7XG4gICAgdGhpcy5fY2FyZCA9IGNhcmQ7XG4gICAgc3VwZXIub3BlbigpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fc3VibWl0QnV0dG9uLmZvY3VzKCksIDEwMCkgXG4gIH0gXG4gIFxuICBjbG9zZSgpIHsgXG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgeyBcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PntcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0RnVuY3Rpb24odGhpcy5fY2FyZCk7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfSlcbiAgfVxuXG59IiwiZXhwb3J0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfTtcblxuICBhZGRJdGVtKGl0ZW0pIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChpdGVtKTtcbiAgfTtcblxuICByZW5kZXJJdGVtcyhpbml0YWlsQXJyYXkpIHtcbiAgICAgIGluaXRhaWxBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cbn0iLCJleHBvcnQgY29uc3QgcHJvZmlsZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yICgnLnByb2ZpbGVfX2VkaXQtYnV0dG9uJylcbmV4cG9ydCBjb25zdCBwb3B1cEVkaXRQcm9maWxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciAoJy5wb3B1cF90eXBlX3Byb2ZpbGUnKSBcbmV4cG9ydCBjb25zdCBwb3B1cFRpdGxlID0gcG9wdXBFZGl0UHJvZmlsZS5xdWVyeVNlbGVjdG9yICgnLnBvcHVwX19pbnB1dF90eXBlX3RpdGxlJylcbmV4cG9ydCBjb25zdCBwb3B1cEpvYiA9IHBvcHVwRWRpdFByb2ZpbGUucXVlcnlTZWxlY3RvciAoJy5wb3B1cF9faW5wdXRfdHlwZV9zdWJ0aXRsZScpXG5leHBvcnQgY29uc3QgY2FyZEFkZEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hZGQtYnV0dG9uJylcbmV4cG9ydCBjb25zdCBjYXJkTGlzdFNlbGVjdG9yID0gJy5lbGVtZW50cyc7XG5cblxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX3RpdGxlJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZVN1YnRpdGxlPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fc3VidGl0bGUnKTtcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5cblxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHsgXG4gIGZvcm1TZWxlY3RvcjogJy5wb3B1cF9fZm9ybScsXG4gIGlucHV0U2VsZWN0b3I6ICcucG9wdXBfX2lucHV0JyxcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX3N1Ym1pdC1idXR0b24nLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAncG9wdXBfX3N1Ym1pdC1idXR0b25faW5hY3RpdmUnLFxuICBpbnB1dEVycm9yQ2xhc3M6ICdwb3B1cF9faW5wdXRfaW52YWxpZCcsIFxuICBlcnJvckNsYXNzOiAnZXJyb3JfdHlwZV92aXNpYmxlJ1xufVxuXG5jb25zdCBhcmhpekltYWdlID0gbmV3IFVSTCgnLi4vaW1hZ2VzL9CQ0YDRhdGL0LcuanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IHNwYkltYWdlID0gbmV3IFVSTCgnLi4vaW1hZ2VzL9Cf0LjRgtC10YAuanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IHRlcnNrb2xJbWFnZSA9IG5ldyBVUkwoJy4uL2ltYWdlcy/QotC10YDRgdC60L7Quy5qcGcnLCBpbXBvcnQubWV0YS51cmwpO1xuY29uc3QgYmFpa2FsSW1hZ2UgPSBuZXcgVVJMKCcuLi9pbWFnZXMvQmFpa2FsLmpwZycsIGltcG9ydC5tZXRhLnVybCk7XG5jb25zdCB2aWJvcmdJbWFnZSA9IG5ldyBVUkwoJy4uL2ltYWdlcy/QktGL0LHQvtGA0LMuanBnJywgaW1wb3J0Lm1ldGEudXJsKTtcbmNvbnN0IGtpcm92c2tJbWFnZSA9IG5ldyBVUkwoJy4uL2ltYWdlcy/QmtC40YDQvtCy0YHQui5qcGcnLCBpbXBvcnQubWV0YS51cmwpO1xuXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxuICAgIGxpbms6IGFyaGl6SW1hZ2VcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQn9C40YLQtdGAJyxcbiAgICBsaW5rOiBzcGJJbWFnZVxuICB9LFxuICB7XG4gICAgbmFtZTogJ9Ci0LXRgNGB0LrQvtC7JyxcbiAgICBsaW5rOiB0ZXJza29sSW1hZ2VcbiAgfSxcbiAge1xuICAgIG5hbWU6ICfQkdCw0LnQutCw0LsnLFxuICAgIGxpbms6IGJhaWthbEltYWdlXG4gIH0sXG4gIHtcbiAgICBuYW1lOiAn0JLRi9Cx0L7RgNCzJyxcbiAgICBsaW5rOiB2aWJvcmdJbWFnZVxuICB9LFxuICB7XG4gICAgbmFtZTogJ9Ca0LjRgNC+0LLRgdC6JyxcbiAgICBsaW5rOiBraXJvdnNrSW1hZ2VcbiAgfVxuXTsiLCJleHBvcnQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Ioe2Jhc2VVcmwsIGF1dGhvcml6YXRpb24sIGNvbnRlbnRUeXBlfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2F1dGhvcml6YXRpb24gPSBhdXRob3JpemF0aW9uO1xuICAgIC8vIHRoaXMuX2NvbnRlbnRUeXBlID0gY29udGVudFR5cGU7IC8vINC/0LjRgdCw0YLRjCDQsiDRj9Cy0L3QvtC8INCy0LjQtNC1INCyINC80LXRgtC+0LTQsNGFXG4gIH1cblxuICAvLyAnYXBwbGljYXRpb24vanNvbidcbiAgXG4gIGdldEhlcm9EYXRhKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZWAsIHtcbiAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb25cbiAgICAgIH1cbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTsgXG4gIH1cblxuICBnZXRuSXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uXG4gICAgICB9XG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7IFxuICB9XG5cbiAgX2dldEpzb25PckVycm9yKHJlcyl7XG4gICAgaWYgKHJlcy5vayl7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3N0YXR1czogcmVzLnN0YXR1c30pXG4gIH1cblxuICBzZXRVc2VySW5mb1NlcnZlciAodGl0bGUsIGpvYil7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiB0aXRsZSxcbiAgICAgICAgYWJvdXQ6IGpvYlxuICAgICAgfSlcbiAgICB9KVxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTsgXG4gIH1cblxuICBzZXRVc2VyQXZhdGFyU2VydmVyKGF2YXRhckxpbmspe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIGF2YXRhcjogYXZhdGFyTGluayxcbiAgICAgIH0pXG4gICAgfSlcbiAgICAudGhlbih0aGlzLl9nZXRKc29uT3JFcnJvcilcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7IFxuICB9XG5cblxuICBzZW5kQ2FyZChuZXdDYXJkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgbmFtZTogbmV3Q2FyZC5uYW1lLFxuICAgICAgICAgIGxpbms6IG5ld0NhcmQubGlua1xuICAgICAgICB9KVxuICAgICAgfSlcbiAgICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9KTsgXG4gIH1cblxuXG4gIHJlbW92ZUNhcmQoaWQpe1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXG4gIH1cblxuICBzZW5kTGlrZShpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX2F1dGhvcml6YXRpb24sXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgLnRoZW4odGhpcy5fZ2V0SnNvbk9yRXJyb3IpXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pOyBcbiAgfVxuXG4gIGRlbExpa2UoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl9hdXRob3JpemF0aW9uLFxuICAgICAgICB9XG4gICAgICB9KVxuICAgIC50aGVuKHRoaXMuX2dldEpzb25PckVycm9yKVxuICAgIFxuICB9XG59XG5cblxuICBcblxuXG5cblxuICBcblxuXG5cblxuIiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgY2xhc3MgUG9wdXBFZGl0UHJvZmlsZVBpY3R1cmUgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yICh7IHBvcHVwU2VsZWN0b3IsIHN1Ym1pdEZ1bmN0aW9uIH0pIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9wb3B1cEZvcm0ucXVlcnlTZWxlY3RvcignLnBvcHVwX19zdWJtaXQtYnV0dG9uJylcbiAgICB0aGlzLl9zdWJtaXRGdW5jdGlvbiA9IHN1Ym1pdEZ1bmN0aW9uO1xuICAgIHRoaXMuX2lucHV0ID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dCcpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICBzdXBlci5vcGVuKCk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLl9zdWJtaXRCdXR0b24uZm9jdXMoKSwgMTAwKSBcbiAgfSBcblxuICBjbG9zZSgpIHsgXG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkgeyBcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PntcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdGhpcy5fc3VibWl0RnVuY3Rpb24odGhpcy5faW5wdXQudmFsdWUpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pXG4gIH1cblxuICByZW5kZXJMb2FkaW5nKGlzTG9hZGluZykge1xuICAgIGlmIChpc0xvYWRpbmcpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QtdC90LjQtS4uLic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudCA9ICfQodC+0YXRgNCw0L3QuNGC0YwnO1xuICAgIH0gXG4gIH1cblxufVxuXG5cblxuXG5cblxuIiwiaW1wb3J0ICcuL2luZGV4LmNzcyc7XG5cbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnXG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJ1xuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tICcuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzJ1xuaW1wb3J0IHsgUG9wdXBXaXRoSW1hZ2UgfSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJ1xuaW1wb3J0IHsgUG9wdXBXaXRoRm9ybSB9IGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcbmltcG9ydCB7IFBvcHVwRGVsQ29uZmlybWF0aW9uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cERlbENvbmZpcm1hdGlvbi5qcydcbmltcG9ydCB7IFNlY3Rpb24gfSBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnXG5pbXBvcnQgeyBwb3B1cEVkaXRQcm9maWxlLCBwcm9maWxlRWRpdCB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcbmltcG9ydCB7IHBvcHVwVGl0bGUgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXG5pbXBvcnQgeyBwb3B1cEpvYiB9IGZyb20gJy4uL3V0aWxzL2NvbnN0YW50cy5qcydcbmltcG9ydCB7IGNhcmRBZGRCdXR0b24gfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXG5pbXBvcnQgeyBjYXJkTGlzdFNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xuaW1wb3J0IHsgaW5pdGlhbENhcmRzIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJ1xuaW1wb3J0IHsgcHJvZmlsZVRpdGxlLCBwcm9maWxlU3VidGl0bGUsIHByb2ZpbGVBdmF0YXIgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXG5pbXBvcnQgeyBBcGkgfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcydcbmltcG9ydCB7IFBvcHVwRWRpdFByb2ZpbGVQaWN0dXJlIH0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cEVkaXRQcm9maWxlUGljdHVyZSdcblxuY29uc3QgYXBpID0gXG5uZXcgQXBpKFxuICB7YmFzZVVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNDcvJyxcbiAgYXV0aG9yaXphdGlvbjogJzgzZmM4ZWJlLTFmMDgtNGE1ZS04OTk1LTg3Y2Y3YTY3ZmNmMScsXG4gIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbid9XG4pXG5cbmNvbnN0IHBvcHVwUHJvZmlsZUVkaXQgPSBcbm5ldyBQb3B1cFdpdGhGb3JtKHtcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX3Byb2ZpbGUnLFxuICBzdWJtaXRGdW5jdGlvbjogKG5ld0l0ZW0pID0+IHtcbiAgICBwb3B1cFByb2ZpbGVFZGl0LnJlbmRlckxvYWRpbmcodHJ1ZSk7XG4gICAgYXBpLnNldFVzZXJJbmZvU2VydmVyKG5ld0l0ZW0uZWRpdFByb2ZpbGVOYW1lLCBuZXdJdGVtLmVkaXRQcm9maWxlSm9iKVxuICAgICAgLnRoZW4oKGRhdGEpPT57XG4gICAgICAgIGN1cnJlbnRVc2VySW5mby5zZXRVc2VySW5mbyh7XG4gICAgICAgICAgdGl0bGU6IGRhdGEubmFtZSxcbiAgICAgICAgICBqb2I6IGRhdGEuYWJvdXRcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+e1xuICAgICAgICBwb3B1cFByb2ZpbGVFZGl0LnJlbmRlckxvYWRpbmcoZmFsc2UpO1xuICAgICAgfSlcbiAgfVxufSlcbnBvcHVwUHJvZmlsZUVkaXQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuY29uc3QgY3VycmVudFVzZXJJbmZvID0gbmV3IFVzZXJJbmZvICh7IFxuICBwcm9maWxlTmFtZVNlbGVjdG9yOiAnLnByb2ZpbGVfX3RpdGxlJyxcbiAgcHJvZmlsZUpvYlNlbGVjdG9yOiAnLnByb2ZpbGVfX3N1YnRpdGxlJyxcbiAgcHJvZmlsZUF2YXRhclNlbGVjdG9yOiAnLnByb2ZpbGVfX2F2YXRhcidcbn0pXG5cbnByb2ZpbGVFZGl0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBwb3B1cFByb2ZpbGVFZGl0Lm9wZW4oKTtcbiAgY29uc3QgbmV3VXNlckluZm8gPSBjdXJyZW50VXNlckluZm8uZ2V0VXNlckluZm8oKTsgXG4gIHBvcHVwVGl0bGUudmFsdWUgPSBuZXdVc2VySW5mby5uYW1lO1xuICBwb3B1cEpvYi52YWx1ZSA9IG5ld1VzZXJJbmZvLmxpbms7ICBcbiAgZm9ybVByb2ZpbGVWYWxpZGF0b3IucmVzZXRWYWxpZGF0aW9uKCk7XG59KVxuXG5jb25zdCBwb3B1cEFkZENhcmQgPSBcbiAgbmV3IFBvcHVwV2l0aEZvcm0oe1xuICAgIHBvcHVwU2VsZWN0b3I6ICcucG9wdXBfdHlwZV9lbGVtZW50JyxcbiAgICBzdWJtaXRGdW5jdGlvbjogKGl0ZW0pID0+IHtcbiAgICAgIGFwaS5zZW5kQ2FyZChpdGVtKVxuICAgICAgICAudGhlbigoZGF0YSkgPT57XG4gICAgICAgICAgY29uc3QgbmV3SXRlbSA9IGNyZWF0ZU5ld0NhcmQoZGF0YSk7XG4gICAgICAgICAgY2FyZExpc3QuYWRkSXRlbShuZXdJdGVtKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICB9KTsgXG4gICAgfX0pXG5wb3B1cEFkZENhcmQuc2V0RXZlbnRMaXN0ZW5lcnMoJ2NhcmRzJywgKTtcblxuY2FyZEFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgcG9wdXBBZGRDYXJkLm9wZW4oKVxuICBmb3JtQ2FyZFZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTsgXG59KTtcblxuY29uc3QgZGVsUG9wdXAgPSBuZXcgUG9wdXBEZWxDb25maXJtYXRpb24gKHtcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX2RlbGV0ZScsXG4gIHN1Ym1pdEZ1bmN0aW9uOiAoY3VycmVudENhcmQpID0+IHtcbiAgICBhcGkucmVtb3ZlQ2FyZChjdXJyZW50Q2FyZC5faWQpXG4gICAgICAudGhlbigoKT0+e1xuICAgICAgICBjdXJyZW50Q2FyZC5fZGVsZXRlQ2FyZCgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7IFxuICAgICAgfSk7IFxuICB9XG59KVxuZGVsUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKVxuXG5jb25zdCBlZGl0UHJvZmlsZVBpY3R1cmUgPSBuZXcgUG9wdXBFZGl0UHJvZmlsZVBpY3R1cmUgKHtcbiAgcG9wdXBTZWxlY3RvcjogJy5wb3B1cF90eXBlX2VkaXQtcGljdHVyZScsXG4gIHN1Ym1pdEZ1bmN0aW9uOihjdXJyZW50UGljdHVyZUxpbmspID0+IHtcbiAgICBlZGl0UHJvZmlsZVBpY3R1cmUucmVuZGVyTG9hZGluZyh0cnVlKTtcbiAgICBjb25zb2xlLmxvZyhjdXJyZW50UGljdHVyZUxpbmspO1xuICAgIGFwaS5zZXRVc2VyQXZhdGFyU2VydmVyKGN1cnJlbnRQaWN0dXJlTGluaylcbiAgICAgIC50aGVuKGRhdGEgPT57XG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICBjdXJyZW50VXNlckluZm8uc2V0VXNlckF2YXRhcihkYXRhLmF2YXRhcik7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKT0+e1xuICAgICAgICBlZGl0UHJvZmlsZVBpY3R1cmUucmVuZGVyTG9hZGluZyhmYWxzZSk7XG4gICAgICB9KVxuICB9XG59KVxuZWRpdFByb2ZpbGVQaWN0dXJlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnByb2ZpbGVBdmF0YXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PntcbiAgZWRpdFByb2ZpbGVQaWN0dXJlLm9wZW4oKTtcbiAgZm9ybVBpY3R1cmVFZGl0VmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpOyBcbn0pXG5cbmNvbnN0IGltYWdlUG9wdXA9IG5ldyBQb3B1cFdpdGhJbWFnZSAoJy5wb3B1cF90eXBlX2VsZW1lbnQtcGhvdG8nKTtcbmltYWdlUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gY3JlYXRlTmV3Q2FyZChpdGVtKSB7XG4gIGNvbnN0IG5ld0NhcmQgPSBuZXcgQ2FyZCAoXG4gICAge2RhdGE6IGl0ZW0sXG4gICAgaGFuZGxlQ2FyZENsaWNrOiAoZGF0YSkgPT4geyBcbiAgICAgIGltYWdlUG9wdXAub3BlbihkYXRhKTt9LFxuICAgIGhhbmRsZURlbGNsaWNrOiAoY2FyZCkgPT4ge1xuICAgICAgZGVsUG9wdXAub3BlbihjYXJkKTt9LFxuICAgIHNlbmRMaWtlVG9TZXJldmVyOiAoY2FyZElkKSA9PiB7XG4gICAgICByZXR1cm4gYXBpLnNlbmRMaWtlKGNhcmRJZCl9LFxuICAgIGRlbExla2VPblNlcnZlcjogKGNhcmRJZCkgPT4ge1xuICAgICAgcmV0dXJuIGFwaS5kZWxMaWtlKGNhcmRJZCl9LFxuICAgIH0sIFxuICAgICcjdXNlci1lbGVtZW50Jyk7XG4gIFxuICBjb25zdCBuZXdDYXJkRWxlbWVudCA9IG5ld0NhcmQuY3JlYXRlQ2FyZCgpO1xuICBhcGkuZ2V0SGVyb0RhdGEoKVxuICAgIC50aGVuKChkYXRhKSA9PntcbiAgICAgIGlmIChkYXRhLl9pZCA9PT0gaXRlbS5vd25lci5faWQpIHtcbiAgICAgICAgbmV3Q2FyZC5tYWtlRW5hYmxlRGVsKCk7XG4gICAgICB9OyBcbiAgICAgIGlmIChpdGVtLmxpa2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaXRlbS5saWtlcy5mb3JFYWNoKGxpa2UgPT4ge1xuICAgICAgICAgIGlmIChsaWtlLl9pZCA9PT0gZGF0YS5faWQpIHtcbiAgICAgICAgICAgIG5ld0NhcmQuX3NhdmVMaWtlQ2FyZCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSlcbiAgcmV0dXJuIG5ld0NhcmRFbGVtZW50O1xufVxuXG5jb25zdCBmb3JtUHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmb3JtUHJvZmlsZScpO1xuY29uc3QgZm9ybVByb2ZpbGVWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAoY29uZmlnLCBmb3JtUHJvZmlsZSk7XG5mb3JtUHJvZmlsZVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGZvcm1DYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Zvcm1DYXJkJyk7XG5jb25zdCBmb3JtQ2FyZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yIChjb25maWcsIGZvcm1DYXJkKTtcbmZvcm1DYXJkVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgcGljdHVyZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZWRpdFByb2ZpbGVQaWN0dXJlJyk7XG5jb25zdCBmb3JtUGljdHVyZUVkaXRWYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvciAoY29uZmlnLCBwaWN0dXJlRWRpdCk7XG5mb3JtUGljdHVyZUVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBjYXJkTGlzdCA9IFxuICAgIG5ldyBTZWN0aW9uIChcbiAgICAgIHtyZW5kZXJlcjogKGl0ZW0pID0+e1xuICAgICAgICBjb25zdCBuZXdFbGVtZW50ID0gY3JlYXRlTmV3Q2FyZChpdGVtKTtcbiAgICAgICAgY2FyZExpc3QuYWRkSXRlbShuZXdFbGVtZW50KTt9IH0sXG4gICAgICBjYXJkTGlzdFNlbGVjdG9yKTtcblxuUHJvbWlzZS5hbGwoW1xuXHRhcGkuZ2V0bkl0aWFsQ2FyZHMoKSxcbiAgYXBpLmdldEhlcm9EYXRhKCksXG5dKVxuXHQudGhlbigoW2luaXRpYWxBcnJheSwgZGF0YV0pPT57XG5cdFx0Y2FyZExpc3QucmVuZGVySXRlbXMoaW5pdGlhbEFycmF5KTtcbiAgICBjdXJyZW50VXNlckluZm8uc2V0VXNlckluZm8oe1xuICAgICAgdGl0bGU6IGRhdGEubmFtZSxcbiAgICAgIGpvYjogZGF0YS5hYm91dFxuICAgIH0pXG4gICAgY3VycmVudFVzZXJJbmZvLnNldFVzZXJBdmF0YXIoZGF0YS5hdmF0YXIpO1xuXHR9KVxuXHQuY2F0Y2goKGVycik9Pntcblx0XHRjb25zb2xlLmxvZyhlcnIpO1xuXHR9KVxuICBcbiAgXG5cbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJvIiwib2JqIiwicHJvcCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInAiLCJiIiwiZG9jdW1lbnQiLCJiYXNlVVJJIiwic2VsZiIsImxvY2F0aW9uIiwiaHJlZiIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtVmFsaWRhdGlvbiIsInRlc3RJbnB1dCIsImVycm9yTWVzc2FnZSIsImlucHV0RXJyb3IiLCJfZm9ybUVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJfaW5wdXRFcnJvckNsYXNzIiwidGV4dENvbnRlbnQiLCJfZXJyb3JDbGFzcyIsInJlbW92ZSIsInRoaXMiLCJfaW5wdXRMaXN0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZm9yRWFjaCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfY2hlY2tWYWxpZGl0eSIsImRpc2FibGVkIiwiX2hhc0ludmFsaWRJbnB1dCIsInN3aXRjaE9mZkJ1dHRvbiIsIl9zd2l0Y2hPbkJ1dHRvbiIsInNvbWUiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiaW5wdXRFbGVtZW50IiwiQ2FyZCIsInRlbXBsYXRlU2VsZWN0b3IiLCJkYXRhIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlRGVsY2xpY2siLCJzZW5kTGlrZVRvU2VyZXZlciIsImRlbExla2VPblNlcnZlciIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NvdW50IiwibGlrZXMiLCJsZW5ndGgiLCJfaWQiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZURlbGNsaWNrIiwiX2hhbmRsZUNhcmRDbGljayIsIl9zZW5kTGlrZVRvU2VyZXZlciIsIl9kZWxMZWtlT25TZXJ2ZXIiLCJjb250ZW50IiwiY2hpbGRyZW4iLCJjbG9uZU5vZGUiLCJfbmV3Q2FyZCIsIl9nZXRUZW1wbGF0ZSIsIl9jYXJkSW1hZ2UiLCJzcmMiLCJhbHQiLCJfbGlrZUJ1dHRvbiIsIl9kZWxCdXR0b24iLCJfbGlrZUNvdW50ZXIiLCJpbm5lckhUTUwiLCJfc2V0Q2FyZEV2ZW50TGlzdGVuZXJzIiwiY29udGFpbnMiLCJfY2hhbmdlQ2FyZExpa2UiLCJ0aGVuIiwidG9nZ2xlIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiVXNlckluZm8iLCJwcm9maWxlTmFtZVNlbGVjdG9yIiwicHJvZmlsZUpvYlNlbGVjdG9yIiwicHJvZmlsZUF2YXRhclNlbGVjdG9yIiwiX2pvYiIsIl9hdmF0YXIiLCJfcHJvZmlsZUluZm8iLCJ0aXRsZSIsImpvYiIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5IiwiY2xvc2UiLCJpc092ZXJsYXkiLCJ0YXJnZXQiLCJpc0Nsb3NlQnRuIiwiUG9wdXBXaXRoSW1hZ2UiLCJfcG9wdXBQaG90byIsIl9wb3B1cFRleHQiLCJQb3B1cFdpdGhGb3JtIiwic3VibWl0RnVuY3Rpb24iLCJfcG9wdXBGb3JtIiwiX3N1Ym1pdEZ1bmN0aW9uIiwiX2Zvcm1WYWx1ZXMiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX25ld0l0ZW0iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJyZXNldCIsImlzTG9hZGluZyIsIlBvcHVwRGVsQ29uZmlybWF0aW9uIiwiY2FyZCIsIl9jYXJkIiwic2V0VGltZW91dCIsImZvY3VzIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwicmVuZGVyZXIiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbSIsInByZXBlbmQiLCJpbml0YWlsQXJyYXkiLCJwcm9maWxlRWRpdCIsInBvcHVwRWRpdFByb2ZpbGUiLCJwb3B1cFRpdGxlIiwicG9wdXBKb2IiLCJjYXJkQWRkQnV0dG9uIiwicHJvZmlsZUF2YXRhciIsImZvcm1TZWxlY3RvciIsIlVSTCIsIkFwaSIsImJhc2VVcmwiLCJhdXRob3JpemF0aW9uIiwiY29udGVudFR5cGUiLCJfYmFzZVVybCIsIl9hdXRob3JpemF0aW9uIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiX2dldEpzb25PckVycm9yIiwiUHJvbWlzZSIsInJlamVjdCIsInJlcyIsIm9rIiwianNvbiIsInN0YXR1cyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhdmF0YXJMaW5rIiwiYXZhdGFyIiwibmV3Q2FyZCIsIlBvcHVwRWRpdFByb2ZpbGVQaWN0dXJlIiwiX2lucHV0IiwiYXBpIiwicG9wdXBQcm9maWxlRWRpdCIsIm5ld0l0ZW0iLCJyZW5kZXJMb2FkaW5nIiwic2V0VXNlckluZm9TZXJ2ZXIiLCJlZGl0UHJvZmlsZU5hbWUiLCJlZGl0UHJvZmlsZUpvYiIsImN1cnJlbnRVc2VySW5mbyIsInNldFVzZXJJbmZvIiwiZmluYWxseSIsInNldEV2ZW50TGlzdGVuZXJzIiwib3BlbiIsIm5ld1VzZXJJbmZvIiwiZ2V0VXNlckluZm8iLCJmb3JtUHJvZmlsZVZhbGlkYXRvciIsInJlc2V0VmFsaWRhdGlvbiIsInBvcHVwQWRkQ2FyZCIsInNlbmRDYXJkIiwiY3JlYXRlTmV3Q2FyZCIsImNhcmRMaXN0IiwiYWRkSXRlbSIsImZvcm1DYXJkVmFsaWRhdG9yIiwiZGVsUG9wdXAiLCJjdXJyZW50Q2FyZCIsInJlbW92ZUNhcmQiLCJfZGVsZXRlQ2FyZCIsImVkaXRQcm9maWxlUGljdHVyZSIsImN1cnJlbnRQaWN0dXJlTGluayIsInNldFVzZXJBdmF0YXJTZXJ2ZXIiLCJzZXRVc2VyQXZhdGFyIiwiZm9ybVBpY3R1cmVFZGl0VmFsaWRhdG9yIiwiaW1hZ2VQb3B1cCIsImNhcmRJZCIsInNlbmRMaWtlIiwiZGVsTGlrZSIsIm5ld0NhcmRFbGVtZW50IiwiY3JlYXRlQ2FyZCIsImdldEhlcm9EYXRhIiwib3duZXIiLCJtYWtlRW5hYmxlRGVsIiwibGlrZSIsIl9zYXZlTGlrZUNhcmQiLCJlbmFibGVWYWxpZGF0aW9uIiwibmV3RWxlbWVudCIsImFsbCIsImdldG5JdGlhbENhcmRzIiwiaW5pdGlhbEFycmF5IiwicmVuZGVySXRlbXMiXSwic291cmNlUm9vdCI6IiJ9